(this.webpackJsonpmicrobots=this.webpackJsonpmicrobots||[]).push([[0],{78:function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"newVec3",(function(){return f})),r.d(n,"clone",(function(){return b})),r.d(n,"add",(function(){return d})),r.d(n,"addEq",(function(){return l})),r.d(n,"sub",(function(){return j})),r.d(n,"subEq",(function(){return v})),r.d(n,"multiplyScalar",(function(){return h})),r.d(n,"dot",(function(){return p})),r.d(n,"length",(function(){return O})),r.d(n,"dist",(function(){return m})),r.d(n,"normalize",(function(){return g})),r.d(n,"dir",(function(){return y})),r.d(n,"min",(function(){return x})),r.d(n,"max",(function(){return w}));var a={};r.r(a),r.d(a,"merge",(function(){return S}));var o={};r.r(o),r.d(o,"newWorld",(function(){return U})),r.d(o,"clone",(function(){return Y})),r.d(o,"displacement",(function(){return et})),r.d(o,"neighbors",(function(){return rt})),r.d(o,"gradient",(function(){return nt})),r.d(o,"connections",(function(){return at})),r.d(o,"boundingBox",(function(){return ot}));var c={};r.r(c),r.d(c,"ContractionType",(function(){return i})),r.d(c,"createAnimation",(function(){return gt}));var i,u=r(12),s=r(10),f=function(t,e,r){return[t,e,r]},b=function(t){return[t[0],t[1],t[2]]},d=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]},l=function(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]},j=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},v=function(t,e){t[0]-=e[0],t[1]-=e[1],t[2]-=e[2]},h=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},p=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},O=function(t){return Math.sqrt(p(t,t))},m=function(t,e){return O(j(t,e))},g=function(t){return h(t,1/O(t))},y=function(t,e){return g(j(t,e))},x=function(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1]),Math.min(t[2],e[2])]},w=function(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1]),Math.max(t[2],e[2])]},M=function(t){return{pos:b(t.pos),fixed:t.fixed}},A=function(t){var e=[.5,.5,.5];return{min:j(t.pos,e),max:d(t.pos,e)}},S=function(t,e){return{min:x(t.min,e.min),max:w(t.max,e.max)}},E=r(1),k=function(t,e){for(var r=0;r<3;++r)for(var n=0;n<3;++n)t[r][n]+=e[r][n]},C=function(t,e){for(var r=0;r<3;++r)for(var n=0;n<3;++n)t[r][n]*=e},V=function(t,e){for(var r=[0,0,0],n=0;n<3;++n)for(var a=0;a<3;++a)r[n]+=t[n][a]*e[a];return r},z=function(t,e){for(var r=0;r<t.length;++r)e[r]=t[r]},I=function(t,e){for(var r=0,n=0;n<t.length;++n)r+=t[n]*e[n];return r},P=function(t,e,r){for(var n=0;n<t.length;++n)t[n]+=e[n]*r},D=function(t,e,r){for(var n=0;n<r.length;++n)r[n]=0;for(var a=0;a<t.length;++a)for(var o=0;o<t[a].length;++o){var c=t[a][o][0],i=t[a][o][1];r[a]+=i*e[c],a!==c&&(r[c]+=i*e[a])}},T=function(t,e){for(var r=0;r<e.length;++r)e[r]*=t[Math.floor(r/3)]},F=function(t,e){var r=Array(e.length);z(e,r);var n=function(t,e){for(var r=Array(e.length/3).fill(0),n=0;n<t.length;++n)for(var a=0;a<t[n].length;++a){var o=Object(s.a)(t[n][a],2),c=o[0],i=o[1];Math.floor(n/3)===Math.floor(c/3)&&(r[Math.floor(n/3)]+=i,n!==c&&(r[Math.floor(c/3)]+=i))}for(var u=0;u<r.length;++u)r[u]=Math.sqrt(Math.sqrt(3/r[u]));return r}(t,r);!function(t,e){for(var r=0;r<e.length;++r)for(var n=0;n<e[r].length;++n){var a=e[r][n][0];e[r][n][1]*=t[Math.floor(r/3)],e[r][n][1]*=t[Math.floor(a/3)]}}(n,t),T(n,r);var a=function(t,e){var r=Array(e.length).fill(0),n=Array(e.length);z(e,n);var a=Array(e.length);D(t,r,a),P(n,a,-1);var o=Array(n.length),c=Array(o.length);z(n,o);for(var i=I(n,n),u=0;u<20;++u){D(t,o,a);var s=i/I(o,a);P(r,o,s),P(n,a,-s);var f=I(n,n);z(o,c),z(n,o),P(o,c,f/i),i=f}return r}(t,r);return T(n,a),a},W=r(31),q=r(3),B=r(9),N=function(t){return((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[2][2]+(t[2][1]*t[4][0]-t[4][1]*t[2][0])*-t[3][2]+(t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[4][2])*t[1][3]+((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[1][2]+(t[1][1]*t[4][0]-t[4][1]*t[1][0])*-t[3][2]+(t[1][1]*t[3][0]-t[3][1]*t[1][0])*t[4][2])*-t[2][3]+((t[2][1]*t[4][0]-t[4][1]*t[2][0])*t[1][2]+(t[1][1]*t[4][0]-t[4][1]*t[1][0])*-t[2][2]+(t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[4][2])*t[3][3]+((t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[1][2]+(t[1][1]*t[3][0]-t[3][1]*t[1][0])*-t[2][2]+(t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[3][2])*-t[4][3]+((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[1][2]+(t[1][1]*t[4][0]-t[4][1]*t[1][0])*-t[3][2]+(t[1][1]*t[3][0]-t[3][1]*t[1][0])*t[4][2])*t[0][3]+((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[3][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*t[4][2])*-t[1][3]+(((t[1][1]*t[4][0]-t[4][1]*t[1][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[4][2])*t[3][3]+((t[1][1]*t[3][0]-t[3][1]*t[1][0])*t[0][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[3][2])*-t[4][3]+((t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[1][2]+(t[1][1]*t[3][0]-t[3][1]*t[1][0])*-t[2][2]+(t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[3][2])*t[0][3]+((t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[0][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*-t[2][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*t[3][2])*-t[1][3]+((t[1][1]*t[3][0]-t[3][1]*t[1][0])*t[0][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[3][2])*t[2][3]+((t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[0][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[2][2])*-t[3][3])-(((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[2][2]+(t[2][1]*t[4][0]-t[4][1]*t[2][0])*-t[3][2]+(t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[4][2])*t[0][3]+((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[3][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*t[4][2])*-t[2][3]+(((t[2][1]*t[4][0]-t[4][1]*t[2][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[2][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*t[4][2])*t[3][3]+((t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[0][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*-t[2][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*t[3][2])*-t[4][3])+(((t[2][1]*t[4][0]-t[4][1]*t[2][0])*t[1][2]+(t[1][1]*t[4][0]-t[4][1]*t[1][0])*-t[2][2]+(t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[4][2])*t[0][3]+((t[2][1]*t[4][0]-t[4][1]*t[2][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[2][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*t[4][2])*-t[1][3]+(((t[1][1]*t[4][0]-t[4][1]*t[1][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[4][2])*t[2][3]+((t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[0][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[2][2])*-t[4][3])))},$=function(){function t(e,r,n){Object(q.a)(this,t),this.vertices=void 0,this.adjacent=void 0,this.boundary=void 0,this.lastVisited=void 0,this.vertices=e,this.adjacent=r,this.boundary=n,this.lastVisited=-1}return Object(B.a)(t,[{key:"flip",value:function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e}}]),t}(),R=function t(e,r,n){Object(q.a)(this,t),this.vertices=void 0,this.cell=void 0,this.index=void 0,this.vertices=e,this.cell=r,this.index=n},G=function(){function t(e,r){var n=this;Object(q.a)(this,t),this.vertices=void 0,this.simplices=void 0,this.interior=void 0,this.tuple=void 0,this.orient=void 0,this.vertices=e,this.simplices=r,this.interior=r.filter((function(t){return!t.boundary})),this.tuple=Object(E.a)(this.vertices),this.orient=function(){return N(n.tuple)}}return Object(B.a)(t,[{key:"handleBoundaryDegeneracy",value:function(t,e){var r=this.vertices.length-1,n=this.tuple,a=this.vertices,o=[t];for(t.lastVisited=-r;o.length>0;){var c=o.pop();if(void 0===c)break;for(var i=c.adjacent,u=0;u<=4;++u){var s=i[u];if(s.boundary&&!(s.lastVisited<=-r)){for(var f=s.vertices,b=0;b<=4;++b){var d=f[b];n[b]=d<0?e:a[d]}var l=this.orient();if(l>0)return s;s.lastVisited=-r,0===l&&o.push(s)}}}return null}},{key:"walk",value:function(t){for(var e=this.vertices.length-1,r=this.vertices,n=this.tuple,a=this.interior.length-1,o=this.interior[a];!o.boundary;){for(var c=o.vertices,i=o.adjacent,u=0;u<=4;++u)n[u]=r[c[u]];o.lastVisited=e;for(var s=0;s<=4;++s){var f=i[s];if(!(f.lastVisited>=e)){var b=n[s];n[s]=t;var d=this.orient();if(n[s]=b,d<0){o=f;break}f.boundary?f.lastVisited=-e:f.lastVisited=e}}}return o}},{key:"addPeaks",value:function(t,e){var r=this.vertices.length-1,n=this.vertices,a=this.tuple,o=this.interior,c=this.simplices,i=[e];e.lastVisited=r,e.vertices[e.vertices.indexOf(-1)]=r,e.boundary=!1,o.push(e);for(var u=[];i.length>0;){var s=i.pop();if(void 0===s)break;var f=s.vertices,b=s.adjacent,d=f.indexOf(r);if(!(d<0))for(var l=0;l<=4;++l)if(l!==d){var j=b[l];if(j.boundary&&!(j.lastVisited>=r)){var v=j.vertices;if(j.lastVisited!==-r){for(var h=0,p=0;p<=4;++p)v[p]<0?(h=p,a[p]=t):a[p]=n[v[p]];if(this.orient()>0){v[h]=r,j.boundary=!1,o.push(j),i.push(j),j.lastVisited=r;continue}j.lastVisited=-r}var O=j.adjacent,m=f.slice(),g=b.slice(),y=new $(m,g,!0);c.push(y);var x=O.indexOf(s);if(!(x<0)){O[x]=y,g[d]=j,m[l]=-1,g[l]=s,b[l]=y,y.flip();for(var w=0;w<=4;++w){var M=m[w];if(!(M<0||M===r)){for(var A=new Array(3),S=0,E=0;E<=4;++E){var k=m[E];k<0||E===w||(A[S++]=k)}u.push(new R(A,y,w))}}}}}}u.sort((function(t,e){return function(t,e){var r=t[0]+t[1],n=e[0]+e[1],a=r+t[2]-(n+e[2]);if(a)return a;var o=Math.min(t[0],t[1]),c=Math.min(e[0],e[1]);return(a=Math.min(o,t[2])-Math.min(c,e[2]))||Math.min(o+t[2],r)-Math.min(c+e[2],n)}(t.vertices,e.vertices)}));for(var C=0;C+1<u.length;C+=2){var V=u[C],z=u[C+1],I=V.index,P=z.index;I<0||P<0||(V.cell.adjacent[V.index]=z.cell,z.cell.adjacent[z.index]=V.cell)}}},{key:"insert",value:function(t){var e=this.vertices;e.push(t);var r=this.walk(t);if(r){for(var n=this.tuple,a=0;a<=4;++a){var o=r.vertices[a];n[a]=o<0?t:e[o]}var c=this.orient();if(!(c<0)){if(0===c){var i=this.handleBoundaryDegeneracy(r,t);if(!i)return;r=i}this.addPeaks(t,r)}}}},{key:"boundary",value:function(){for(var t=[],e=this.simplices,r=e.length,n=0;n<r;++n){var a=e[n];if(a.boundary){for(var o=new Array(4),c=a.vertices,i=0,u=0,s=0;s<=4;++s)c[s]>=0?o[i++]=c[s]:u=s&&1;if(1===u){var f=o[0];o[0]=o[1],o[1]=f}t.push(o)}}return t}}]),t}(),J=function t(e,r){Object(q.a)(this,t),this.point=void 0,this.index=void 0,this.point=e,this.index=r},L=function(t){var e=t.length;if(0===e)return[];for(var r=new Array(e),n=1,a=0;a<e;++a){for(var o=t[a],c=new Array(4),i=0,u=0;u<3;++u){var s=o[u];c[u]=s,i+=s*s}c[3]=i,r[a]=new J(c,a),n=Math.max(i,n)}r.sort((function(t,e){for(var r=0;r<5;++r){var n=e.point[r]-t.point[r];if(n)return n}return 0})),e=r.length;for(var f=new Array(e+3+1),b=new Array(e+3+1),d=16*n,l=new Array(4),j=0;j<=3;++j)l[j]=0;l[3]=d,f[0]=l.slice(),b[0]=-1;for(var v=0;v<=3;++v){var h=l.slice();h[v]=1,f[v+1]=h,b[v+1]=-1}for(var p=0;p<e;++p){var O=r[p];f[p+3+1]=O.point,b[p+3+1]=O.index}var m=function(t){var e=t.length;if(0===e)throw new Error("Must have at least d+1 points");var r=t[0].length;if(e<=r)throw new Error("Must input at least d+1 points");var n=t.slice(0,r+1),a=N(n);if(0===a)throw new Error("Input not in general position");for(var o=new Array(r+1),c=0;c<=r;++c)o[c]=c;a<0&&(o[0]=1,o[1]=0);for(var i=new $(o,new Array(r+1),!1),u=i.adjacent,s=new Array(r+2),f=0;f<=r;++f){for(var b=o.slice(),d=0;d<=r;++d)d===f&&(b[d]=-1);var l=b[0];b[0]=b[1],b[1]=l;var j=new $(b,new Array(r+1),!0);u[f]=j,s[f]=j}s[r+1]=i;for(var v=0;v<=r;++v)for(var h=u[v].vertices,p=u[v].adjacent,O=0;O<=r;++O){var m=h[O];if(m<0)p[O]=i;else for(var g=0;g<=r;++g)u[g].vertices.indexOf(m)<0&&(p[O]=u[g])}for(var y=new G(n,s),x=r+1;x<e;++x)y.insert(t[x]);return y.boundary()}(f);m=m.filter((function(t){for(var e=0;e<=3;++e){var r=b[t[e]];if(r<0)return!1;t[e]=r}return!0}));for(var g=0;g<m.length;++g){var y=m[g],x=y[0];y[0]=y[1],y[1]=x}return m},X=function(t,e){return r=f(t[0]*e[0],t[0]*e[1],t[0]*e[2]),n=f(t[1]*e[0],t[1]*e[1],t[1]*e[2]),a=f(t[2]*e[0],t[2]*e[1],t[2]*e[2]),[r,n,a];var r,n,a},H=function(t,e,r,n){var a=h(t,-1/6),o=h(e,4/6),c=h(r,4/6),i=h(n,-1/6);return d(d(d(a,o),c),i)},U=function(){return{bots:[]}},Y=function(t){return{bots:t.bots.map((function(t){return M(t)}))}},K=function(t,e,r){return r<t-e/2?1:r>t+e/2?0:2*(r+e-t)*Math.pow(t+e/2-r,2)/Math.pow(e,3)},Q=function(t,e,r){var n=O(r),a=h(r,Math.sqrt(K(t,e,n))/n);return X(a,a)},Z=function(t,e,r){var n=O(r),a=h(r,Math.sqrt(function(t,e,r){return K(t,e,r)+1e-4}(t,e,n))/n);return X(a,a)},_=function(t,e,r,n){var a=1e-5,o=n[r],c=b(n);c[r]=o+a;var i=b(n);i[r]=o-a;var u=Q(t,e,c);return function(t,e){for(var r=0;r<3;++r)for(var n=0;n<3;++n)t[r][n]-=e[r][n]}(u,Q(t,e,i)),C(u,1/2e-5),u},tt=function(t,e,r,n,a){for(var o=Object(E.a)(Array(3*n.bots.length)).map((function(){return[]})),c=0;c<n.bots.length;++c)for(var i=Z(t,e,f(n.bots[c].pos[1]+.5,0,0)),u=Z(t,e,f(0,n.bots[c].pos[1]+.5,0)),s=Z(t,e,f(0,0,n.bots[c].pos[1]+.5)),b=0;b<3;++b)for(var d=b;d<3;++d)o[3*c+b].push([3*c+d,(i[b][d]+s[b][d])*r+u[b][d]]);for(var l=function(r){a[r].forEach((function(a){for(var c=function(t,e,r,n){var a=j(n.pos,r.pos);return Q(t,e,a)}(t,e,n.bots[r],n.bots[a]),i=0;i<3;++i)for(var u=0;u<3;++u)o[3*r+i].push([3*a+u,-c[i][u]]),i>u||(o[3*r+i][u-i][1]+=c[i][u],o[3*a+i][u-i][1]+=c[i][u])}))},v=0;v<n.bots.length;++v)l(v);return o},et=function(t,e,r,n,a,o,c,i,u,s){var f=function(t,e,r,n,a,o){var c=Object(E.a)(Array(3*o.bots.length)).map((function(){return 0}));return o.bots.forEach((function(i,u){for(var s=0;s<3;++s){var f=(o.bots[u].pos[s]-t.bots[u].pos[s])/r,b=((e.bots[u].pos[s]-o.bots[u].pos[s])/r-f)/r;c[3*u+s]=((1===s?-1:0)-b)*n*a}})),c}(n,a,o,c,i,u),b=tt(t,e,r,u,s);return F(b,f)},rt=function(t,e,r,n){return r[n].filter((function(t){return t>n})).filter((function(r){return m(e.bots[n].pos,e.bots[r].pos)<t}))},nt=function(t,e,r,n,a,o,c,i,u,s,b,d,m,g,y){for(var x=Object(E.a)(Array(m.bots.length)).map((function(){return[0,1,2].map((function(){return 0}))})),w=function(n){for(var a=function(a){var c=_(t,e,a,f(m.bots[n].pos[1]+.5,0,0));C(c,r);var i=_(t,e,a,f(0,m.bots[n].pos[1]+.5,0)),u=_(t,e,a,f(0,0,m.bots[n].pos[1]+.5));C(u,r);var s=f(o[3*n],o[3*n+1],o[3*n+2]);k(c,i),k(c,u);var b=p(s,V(c,s));x[n][a]+=b,g[n].forEach((function(r){var c=function(t,e,r,n,a){return _(t,e,n,j(r.pos,a.pos))}(t,e,m.bots[n],a,m.bots[r]),i=f(o[3*r],o[3*r+1],o[3*r+2]);v(i,s);var u=V(c,i),b=p(i,u);x[n][a]+=b,x[r][a]-=b}))},c=0;c<3;++c)a(c)},M=0;M<m.bots.length;++M)w(M);for(var A=Object(E.a)(Array(m.bots.length)).map((function(){return f(0,0,0)})),S=0;S<m.bots.length;++S)for(var z=0;z<3;++z)A[S][z]=-x[S][z]+(-a[3*S+z]+2*o[3*S+z]-c[3*S+z])/Math.pow(d,2)*2;for(var I=0;I<m.bots.length;++I)if(!(m.bots[I].pos[1]>.5)){var P=m.bots[I].pos[1]+.5;A[I][1]-=2*n*(1-P)}for(var D=function(t){g[t].forEach((function(e){var r=j(m.bots[e].pos,m.bots[t].pos),a=O(r);a>1||(r=h(r,n*(1-a)/a),l(A[t],r),v(A[e],r))}))},T=0;T<m.bots.length;++T)D(T);for(var F=0;F<m.bots.length;++F){var W=H(i.bots[F].pos,u.bots[F].pos,s.bots[F].pos,b.bots[F].pos),q=j(W,m.bots[F].pos);l(A[F],h(q,-.1))}return A},at=function(t){var e=new W.a(123);return function(t){var e=L(t),r=t.map((function(){return{}}));return e.forEach((function(t){for(var e=0;e<4;++e)for(var n=e+1;n<4;++n)r[t[e]][t[n]]=!0,r[t[n]][t[e]]=!0})),r.map((function(t){return Object.keys(t).map((function(t){return Number(t)}))}))}([].concat(Object(E.a)(t),Object(E.a)(t.map((function(t){return[t[0],-.5,t[2]]})))).map((function(t){return d(t,h(f(e.next()-.5,e.next()-.5,e.next()-.5),.1))}))).map((function(e){return e.map((function(e){return e>=t.length?-1:e}))})).slice(0,t.length)},ot=function(t){if(0===t.bots.length)return{min:[0,0,0],max:[0,0,0]};var e=A(t.bots[0]);return t.bots.forEach((function(t){e=S(e,A(t))})),e},ct=function(){function t(e){Object(q.a)(this,t),this.comparator=void 0,this.elements=void 0,this.comparator=e,this.elements=[]}return Object(B.a)(t,[{key:"peek",value:function(){return this.elements[0]}},{key:"pop",value:function(){var t=this.peek();if(void 0!==t){var e=this.elements.pop();if(void 0!==e){var r=this.size();if(0===r)return t;this.elements[0]=e;for(var n=0;n<r;){var a=n,o=2*n+1,c=2*n+2;if(o<r&&this.compare(o,a)>=0&&(a=o),c<r&&this.compare(c,a)>=0&&(a=c),a===n)break;this.swap(a,n),n=a}return t}}}},{key:"push",value:function(t){for(var e=this.elements.push(t)-1;e>0;){var r=Math.floor((e-1)/2);if(this.compare(e,r)<=0)break;this.swap(r,e),e=r}}},{key:"size",value:function(){return this.elements.length}},{key:"compare",value:function(t,e){return this.comparator(this.elements[t],this.elements[e])}},{key:"swap",value:function(t,e){var r=this.elements[t];this.elements[t]=this.elements[e],this.elements[e]=r}}]),t}(),it=function(t){for(var e=t.dist/2,r=t;void 0!==r.prev&&r.prev.dist>e;r=r.prev);if(void 0===r.prev)return r.pos;var n=r.prev,a=e-n.dist,o=a/(a+(r.dist-e));return d(h(n.pos,1-o),h(r.pos,o))},ut=function(t){return[Math.round(t[0]),Math.round(t[1]),Math.round(t[2])]},st=function(t,e,r){return h(function(t,e,r){var n=h(d(e,r),.5);if(O(j(r,e))<1)return n;var a=ut(e),o=ut(r),c={},i=new ct((function(t,e){return e.distEstimate-t.distEstimate}));i.push({dist:0,distEstimate:0,pos:a,prev:void 0});for(var u,f,b=0;b<1e4;){var l=i.pop();if(void 0===l)break;var v=Object(s.a)(l.pos,3),p=v[0],m=v[1],g=v[2];if(!(m<1.5)&&!0!==((t[p]||{})[m]||{})[g]&&void 0===((c[p]||{})[m]||{})[g]){if(void 0===c[p]&&(c[p]={}),void 0===c[p][m]&&(c[p][m]={}),c[p][m][g]=l,f=o,(u=l.pos)[0]===f[0]&&u[1]===f[1]&&u[2]===f[2])return it(l);++b;for(var y=-1;y<=1;++y)for(var x=-1;x<=1;++x)for(var w=-1;w<=1;++w)if(0!==y||0!==x||0!==w){var M=[y,x,w],A=d(l.pos,M),S=l.dist+O(M);i.push({dist:S,distEstimate:S+O(j(o,A)),pos:A,prev:l})}}}return n}(t,h(e,3),h(r,3)),1/3)},ft=function(t){return[Math.round(t[0]),Math.round(t[1]),Math.round(t[2])]},bt=function(t){var e,r=ot({bots:t});return r.min=(e=r.min,[Math.floor(e[0]),Math.floor(e[1]),Math.floor(e[2])]),r.max=function(t){return[Math.ceil(t[0]),Math.ceil(t[1]),Math.ceil(t[2])]}(r.max),{min:r.min,max:r.max,bots:Object(E.a)(Array(r.max[0]-r.min[0]+1)).map((function(){return Object(E.a)(Array(r.max[1]-r.min[1]+1)).map((function(){return Object(E.a)(Array(r.max[2]-r.min[2]+1)).map((function(){return null}))}))}))}},dt=function(t,e,r){for(var n=ft(j(e,[.5,.5,.5])),a=Object(s.a)(n,3),o=a[0],c=a[1],i=a[2],u=0;u<=1;++u)for(var f=0;f<=1;++f)for(var b=0;b<=1;++b){var d=o+u-t.min[0],l=c+f-t.min[1],v=i+b-t.min[2];if(!(d<0)&&(!(l<0)&&!(v<0)&&!(d>t.max[0]-t.min[0])&&!(l>t.max[1]-t.min[1])&&!(v>t.max[2]-t.min[2]))){var h=t.bots[d][l][v];t.bots[d][l][v]={value:r,next:h}}}},lt=function(t){for(var e=0;e<1;++e){for(var r=t.map((function(t){return b(t.pos)})),n=bt(t),a=0;a<t.length;++a)dt(n,t[a].pos,a);for(var o=0;o<t.length;++o)for(var c=j(ft(r[o]),n.min),i=Object(s.a)(c,3),u=i[0],f=i[1],d=i[2],p=n.bots[u][f][d];null!==p;p=p.next){var m=t[p.value];if(t[o]!==m){var g=j(m.pos,t[o].pos),y=O(g);if(!(y>1)){var x=h(g,(1-y)/y/2);t[o].fixed?l(m.pos,x):v(t[o].pos,x),m.fixed?v(t[o].pos,x):l(m.pos,x)}}}for(var w=0;w<t.length;++w)t[w].pos[1]=Math.max(t[w].pos[1],.5)}},jt=function(t){return t.bots.some((function(t){return t.fixed}))},vt=function(t,e,r){var n=jt(e),a=U();return a.bots=e.bots.map((function(e,a){return function(e,r){var a=M(e);return a.pos=n?st(t,e.pos,r.pos):h(d(e.pos,r.pos),.5),a}(e,r.bots[a])})),a},ht=function(t,e,r,n,a,o,c,i,u){for(var s=a.map((function(t){return t.bots.map((function(){return f(0,0,0)}))})),b=a.map((function(t){return at(t.bots.map((function(t){return t.pos})))})),l=a.map((function(r,n){return r.bots.map((function(a,o){return rt(t+e/2,r,b[n],o)}))})),j=function(u){var b=function(t,e,r,n,a,o,c,i,u){for(var s=Object(E.a)(Array(a.length)).map((function(){return Object(E.a)(Array(a[0].bots.length)).map((function(){return f(0,0,0)}))})),b=a.map((function(){return Object(E.a)(Array(3*a[0].bots.length)).map((function(){return 0}))})),d=0;d<a.length;++d){var l=a[Math.max(d-1,0)],j=a[Math.min(d+1,a.length-1)];b[d]=et(t,e,r,l,j,o,c,i,a[d],u[d])}for(var v=1;v<a.length;++v){var h=a[Math.max(v-2,0)],p=a[v-1],O=a[Math.min(v+1,a.length-1)],m=a[Math.min(v+2,a.length-1)];s[v]=nt(t,e,r,n,b[v-1],b[v],b[Math.min(v+1,a.length-1)],h,p,O,m,o,a[v],u[v],v/(a.length-1))}return s}(t,e,r,n,a,o,c,i,l);b=b.map((function(t){return t.map((function(t){return h(t,-.01/(1e-4+O(t)))}))})),a.forEach((function(t,e){e<=1||e>=a.length-2||t.bots.forEach((function(t,r){t.fixed||(s[e][r]=d(s[e][r],b[e][r]),s[e][r]=h(s[e][r],.9),t.pos=d(t.pos,s[e][r]))}))}))},v=0;v<u;++v)j()},pt=function(t,e){return O(j(e.pos,t.pos))};!function(t){t[t.Mst=0]="Mst",t[t.Fibers=1]="Fibers",t[t.Delaunay=2]="Delaunay"}(i||(i={}));var Ot=function(t,e,r){var n=at(t.bots.map((function(t){return t.pos}))),a=[];n.forEach((function(e,o){e.forEach((function(e){-1!==e&&o>=e||function(t,e,r,n,a){if(a===i.Delaunay)return!0;if(a===i.Mst){if(-1===n){for(var o=t.bots[r].pos[1]+.5,c=Object(E.a)(Array(t.bots.length)).map((function(){return!1})),u=[],s=0;s<t.bots.length;++s)t.bots[s].pos[1]+.5<o&&u.push(s);for(;u.length>0;){var f=u.shift();if(void 0===f)break;if(!c[f]){c[f]=!0;for(var b=0;b<e[f].length;++b){var d=e[f][b];-1!==d&&m(t.bots[f].pos,t.bots[d].pos)<o&&u.push(d)}}}return!c[r]}for(var l=m(t.bots[r].pos,t.bots[n].pos),j=Object(E.a)(Array(t.bots.length)).map((function(){return!1})),v=[],h=0;h<t.bots.length;++h)t.bots[h].pos[1]+.5<l&&v.push(h);for(;v.length>0;){var p=v.shift();if(void 0===p)break;if(!j[p]){j[p]=!0;for(var O=0;O<e[p].length;++O){var g=e[p][O];-1!==g&&m(t.bots[p].pos,t.bots[g].pos)<l&&v.push(g)}}}return!(j[r]&&j[n])}if(-1===n){var y=t.bots[r];return!e[r].some((function(e){if(-1===e)return!1;var r=t.bots[e];return m(r.pos,[y.pos[0],-.5,r.pos[2]])<y.pos[1]+.5&&m(y.pos,r.pos)<y.pos[1]+.5}))}for(var x=0;x<e[r].length;++x){var w=e[r][x];if(e[n].includes(w)&&-1!==w&&w!==r&&w!==n){if(pt(t.bots[r],t.bots[n])>t.bots[r].pos[1]+.5&&pt(t.bots[r],t.bots[n])>t.bots[n].pos[1]+.5)return!1;if(pt(t.bots[r],t.bots[n])>pt(t.bots[r],t.bots[w])&&pt(t.bots[r],t.bots[n])>pt(t.bots[w],t.bots[n]))return!1;if(pt(t.bots[r],t.bots[n])>pt(t.bots[n],t.bots[w])&&pt(t.bots[r],t.bots[n])>pt(t.bots[r],t.bots[w]))return!1}}return!0}(t,n,o,e,r)&&a.push([o,e])}))}));for(var o=0;o<e;++o)a.forEach((function(e){var r=Object(s.a)(e,2),n=r[0],a=r[1];if(-1!==a){var o=j(t.bots[a].pos,t.bots[n].pos),c=O(o);if(!(c<1)){var i=h(o,(1-c)/c/2*1);t.bots[a].fixed?v(t.bots[n].pos,i):l(t.bots[a].pos,i),t.bots[n].fixed?l(t.bots[a].pos,i):v(t.bots[n].pos,i)}}else t.bots[n].pos[1]+=1*(.5-t.bots[n].pos[1])}));lt(t.bots)},mt=function(t,e){for(var r=function(e){t[e].bots.forEach((function(r,n){if(!r.fixed){var a=H(t[e-2].bots[n].pos,t[e-1].bots[n].pos,t[e+1].bots[n].pos,t[e+2].bots[n].pos);r.pos=d(h(r.pos,.5),h(a,.5))}}))},n=2;n<t.length-2;++n)r(n);t.forEach((function(t){return lt(t.bots)}))},gt=function(t,e,r,n,a){jt(e);for(var o=0,c=0,i=0,u=Date.now(),f=[Y(t),Y(e),Y(r),Y(n)],l=function(t){var e=Object(E.a)(Array(7)).map((function(t,e){return 3*(e/3-1)*.5})),r={};return t.forEach((function(t){e.forEach((function(n){e.forEach((function(a){e.forEach((function(e){var o=ut(d(h(t.pos,3),[n,a,e])),c=Object(s.a)(o,3),i=c[0],u=c[1],f=c[2];void 0===r[i]&&(r[i]={}),void 0===r[i][u]&&(r[i][u]={}),r[i][u][f]=!0}))}))}))})),r}(e.bots.filter((function(t){return t.fixed}))),v=function(t){var r=f.map((function(t,e){return!(e<=1||e>=f.length-1)&&function(t,e,r,n){for(var a=0,o=0;o<e.bots.length;++o){var c=h(j(e.bots[o].pos,t.bots[o].pos),1/n),i=h(j(r.bots[o].pos,e.bots[o].pos),1/n),u=h(j(i,c),1/n);a=Math.max(a,O(u))}return a}(f[e-1],t,f[e+1],a.dt)>.2}));if(!r.some((function(t){return t})))return"break";var n=Object(E.a)(f);f=[f[0]],r.forEach((function(t,e){0!==e&&(t&&f.push(vt(l,f[f.length-1],n[e])),f.push(n[e]))})),console.log("Iteration:",t),console.log("Time slices:",f.length);for(var s=Date.now(),d=2;d<f.length-2;++d)Ot(f[d],a.contractIterations,a.contractionType);if(o+=Date.now()-s,s=Date.now(),a.optimizeIterations>0&&ht(a.offset,a.slack,a.friction,a.overlapPenalty,f,a.dt,a.gravity,a.botMass,a.optimizeIterations),c+=Date.now()-s,s=Date.now(),t>3)for(var v=0;v<a.minimizeAccelerationIterations;++v)mt(f,a.dt);i+=Date.now()-s,console.log(o/1e3,c/1e3,i/1e3),f.forEach((function(t){return t.bots.forEach((function(t,r){t.fixed&&(t.pos=b(e.bots[r].pos))}))})),console.log("Time:",(Date.now()-u)/1e3,"seconds")},p=0;p<a.subdivideIterations;++p){if("break"===v(p))break}return console.log("done"),f.slice(1,f.length-1)},yt=r(118),xt=r(119),wt=r(124),Mt=r(122),At=r(110),St=r(79),Et=r(120),kt=r(117),Ct=r(121),Vt=r(0),zt=r.n(Vt),It=r(114),Pt=r(25),Dt=r.n(Pt),Tt=r(5),Ft=new W.a(123),Wt=function(t){var e=Object(Vt.useState)(!0),r=Object(s.a)(e,2),a=r[0],o=r[1],i=Object(Vt.useState)([]),u=Object(s.a)(i,2),f=u[0],b=u[1],d=function(){if(void 0!==t.world&&void 0!==t.worldPrev&&void 0!==t.worldEnd)if(0!==f.length){var e=f;e.length>1&&(e=e.slice(1)),t.setWorldPrev(t.world),t.setWorld(e[0]),b(e)}else b(c.createAnimation(t.worldPrev,t.world,t.worldEnd,t.worldEnd,t.config))};return Object(Vt.useEffect)((function(){if(!a){var t=setInterval(d,1e3/30);return function(){return clearInterval(t)}}}),[t,a,f]),Object(Vt.useEffect)((function(){o(!0),void 0!==t.worldStart&&(t.setWorld(t.worldStart),b([]))}),[t.worldStart]),Object(Tt.jsxs)(At.a,{children:[Object(Tt.jsx)(St.a,{children:Object(Tt.jsxs)(It.a,{variant:"contained",onClick:function(){o(!a)},children:["paused: ",a?"yes":"no"]})}),Object(Tt.jsx)(St.a,{children:Object(Tt.jsx)(It.a,{variant:"contained",onClick:function(){void 0!==t.world&&(t.setWorld(Dt()(t.world,{bots:{$set:t.world.bots.map((function(t){return Dt()(t,{pos:{$set:n.add(t.pos,n.multiplyScalar(n.newVec3(Ft.next()-.5,Ft.next()-.5,Ft.next()-.5),2))}})}))}})),b([]))},children:"Disturb"})})]})},qt=r(7),Bt=r.p+"static/media/grass.75422b3f.jpg",Nt=function(){var t=new qt.n,e=new qt.k(2e3,2e3,8,8),r=(new qt.r).load(Bt);r.wrapS=qt.m,r.wrapT=qt.m,r.repeat.set(100,100);var n=new qt.h({color:new qt.c("#ffffff")}),a=new qt.g(e,n);a.rotateX(-Math.PI/2),a.castShadow=!1,a.receiveShadow=!0,t.add(a),t.add(new qt.a(16777215,.4));var o=new qt.d(16777215,.62);return o.position.set(10,50,10),o.castShadow=!0,o.shadowCameraRight=100,o.shadowCameraLeft=-100,o.shadowCameraTop=100,o.shadowCameraBottom=-100,o.shadowMapWidth=1024,o.shadowMapHeight=1024,t.add(o),t},$t=r(57),Rt=r(58),Gt=1920,Jt=1080,Lt=new qt.u({antialias:!0});Lt.setClearColor("#ffffff"),Lt.setSize(Gt,Jt),Lt.shadowMapEnabled=!0,Lt.shadowMapType=qt.i;for(var Xt=function(t){var e=.65*Object(Rt.a)(),r=.5625*e,a=Object(Vt.useState)(30),o=Object(s.a)(a,2),c=o[0],i=o[1],f=Object(Vt.useRef)(null),b=Object(Vt.useState)(),d=Object(s.a)(b,2),l=d[0],j=d[1],v=Object(Vt.useState)(),h=Object(s.a)(v,2),p=h[0],O=h[1],m=Object(Vt.useState)(),g=Object(s.a)(m,2),y=g[0],x=g[1],w=Object(Vt.useState)(10),M=Object(s.a)(w,2),A=M[0],S=M[1],E=Object(Vt.useState)(!1),k=Object(s.a)(E,2),C=k[0],V=k[1],z=Object(Vt.useState)([0,0,1]),I=Object(s.a)(z,2),P=I[0],D=I[1],T=function(){if(void 0!==p){var e=p.clone();e.aspect=1.7777777777777777,e.updateProjectionMatrix();var r=document.createElement("a");Lt.render(t.scene,e),r.href=Lt.domElement.toDataURL().replace("image/png","image/octet-stream"),r.download="image.png",r.click()}};return Object(Vt.useEffect)((function(){var t=f.current;if(t){var n=new qt.j(c,e/r,.1,1e3);n.position.set(10,10,10),n.lookAt(0,0,0),O(n);var a=new qt.u({antialias:!0});a.setClearColor("#ffffff"),a.setSize(e,r),a.shadowMapEnabled=!0,a.shadowMapType=qt.i,t.appendChild(a.domElement),x(a);var o=new $t.a(n,a.domElement);return o.enableDamping=!0,o.dampingFactor=.5,j(o),function(){t.removeChild(a.domElement)}}}),[f]),Object(Vt.useEffect)((function(){void 0!==p&&void 0!==y&&(p.aspect=e/r,p.updateProjectionMatrix(),y.setSize(e,r))}),[p,y,e,r]),Object(Vt.useEffect)((function(){if(l&&y&&p&&t.scene){var e=window.setInterval((function(){l.update(),y.render(t.scene,p)}),1e3/30);return function(){window.clearInterval(e)}}}),[l,y,p,t.scene]),Object(Vt.useEffect)((function(){C&&T()}),[t.world]),Object(Tt.jsxs)(Tt.Fragment,{children:[Object(Tt.jsx)("div",{ref:f}),Object(Tt.jsx)(It.a,{variant:"contained",onClick:function(){if(void 0!==l){var e=t.center[0]-l.target.x,r=t.center[1]-l.target.y,n=t.center[2]-l.target.z;l.object.position.set(l.object.position.x+e,l.object.position.y+r,l.object.position.z+n),l.target.set(t.center[0],t.center[1],t.center[2])}},children:"Center camera"}),Object(Tt.jsx)(It.a,{variant:"contained",onClick:function(){if(void 0!==l){var t=window.prompt("0");if(null!==t){var e=parseFloat(t),r=-l.target.x,n=e-l.target.y,a=-l.target.z;l.object.position.set(l.object.position.x+r,l.object.position.y+n,l.object.position.z+a),l.target.set(0,e,0)}}},children:"Set camera height"}),Object(Tt.jsx)("br",{}),Object(Tt.jsx)(Ct.a,{type:"number",label:"Camera distance",value:A,onChange:function(t){var e=Math.max(parseFloat(t.target.value),1);if(S(e),void 0!==p&&void 0!==l){var r=[l.object.position.x,l.object.position.y,l.object.position.z],a=[l.target.x,l.target.y,l.target.z],o=n.sub(r,a),c=n.normalize(o),i=n.multiplyScalar(c,e),u=n.add(a,i);l.object.position.set(u[0],u[1],u[2]),p.updateProjectionMatrix()}}}),Object(Tt.jsx)(Ct.a,{type:"number",label:"FOV",value:c,onChange:function(t){var e=Math.min(Math.max(parseFloat(t.target.value),1),179);i(e),void 0!==p&&(p.fov=e,p.updateProjectionMatrix())}}),P.map((function(t,e){return Object(Tt.jsx)(Et.a,{value:t,onChange:function(t){D(Dt()(P,Object(u.a)({},e,{$set:parseFloat(t.target.value)})))},children:[-1,0,1].map((function(t){return Object(Tt.jsx)(kt.a,{value:t,children:t},t)}))},e)})),Object(Tt.jsxs)(It.a,{variant:"contained",onClick:function(){if(void 0!==l){var t=[l.target.x,l.target.y,l.target.z],e=n.multiplyScalar(P,A),r=n.add(t,e);l.object.position.set(r[0],r[1],r[2])}},children:["Align (",P.join(","),")"]}),Object(Tt.jsx)("br",{}),Object(Tt.jsx)(wt.a,{control:Object(Tt.jsx)(Mt.a,{checked:C,onChange:function(t){return V(t.target.checked)}}),label:"Save screenshot on every frame"}),!C&&Object(Tt.jsx)(It.a,{variant:"contained",onClick:T,children:"Save screenshot for this frame"})]})},Ht=function(t){var e=Object(Vt.useState)(Nt()),r=Object(s.a)(e,2),n=r[0],a=r[1],o=Object(Vt.useState)([]),c=Object(s.a)(o,2),i=c[0],u=c[1],f=Object(Vt.useState)(),b=Object(s.a)(f,2),d=b[0],l=b[1];return Object(Vt.useEffect)((function(){var e=t.world;void 0!==e&&i.length===e.bots.length&&(e.bots.forEach((function(t,e){var r;(r=i[e].position).set.apply(r,Object(E.a)(t.pos))})),l(t.world))}),[t.world,i]),Object(Vt.useEffect)((function(){var e=t.worldStart;void 0!==e&&u(e.bots.map((function(t){return function(t,e){var r,n=new qt.o(1,16,16);n.computeVertexNormals(),n.faces.forEach((function(t){return t.vertexColors=new Array(3).fill(!0).map((function(){return e}))}));var a=(new qt.b).fromGeometry(n);delete a.attributes.uv;var o=new qt.g(a,new qt.h({color:e}));return o.geometry=a,(r=o.position).set.apply(r,Object(E.a)(t)),o.scale.set(.5,.5,.5),o.castShadow=!0,o.receiveShadow=!0,o}(t.pos,new qt.c(t.fixed?"#808080":"#fa8072"))})))}),[t.worldStart]),Object(Vt.useEffect)((function(){var t=Nt();i.forEach((function(e){return t.add(e)})),a(t)}),[i]),Object(Tt.jsx)(Xt,{scene:n,center:t.center,world:d})},Ut=function(t,e){return t.map((function(t){return{pos:t,fixed:e}}))},Yt=function(t){return{bots:t}},Kt=function(t,e,r,n){var a=Ut(e,!0),o=Ut(r,!1),c=Ut(n,!1);return{title:t,start:Yt([].concat(Object(E.a)(a),Object(E.a)(o))),end:Yt([].concat(Object(E.a)(a),Object(E.a)(c)))}},Qt=[n.newVec3(0,0,0)],Zt=0;Zt<10;++Zt){var _t=Math.PI/2*(Zt/10);Qt.push(n.newVec3(Qt[Zt][0]+Math.cos(_t),Qt[Zt][1]-Math.sin(_t),0))}for(var te=1;te<11;++te)Qt.push(n.newVec3(-Qt[te][0],Qt[te][1],0));var ee=Math.min.apply(Math,Object(E.a)(Qt.map((function(t){return t[1]}))));Qt.forEach((function(t,e){return Qt[e][1]=Qt[e][1]-ee+.5}));for(var re=Kt("Arc",[],[].concat(Object(E.a)(Object(E.a)(Array(11)).map((function(t,e){return n.newVec3(Math.ceil(e/2)+4,.5,e%2-.5)}))),Object(E.a)(Object(E.a)(Array(10)).map((function(t,e){return n.newVec3(-Math.floor(e/2)-1-4,.5,e%2-.5)})))),Qt),ne=[n.newVec3(0,0,0)],ae=0;ae<40;++ae){var oe=Math.PI/2*(ae/40);ne.push(n.newVec3(ne[ae][0]+Math.cos(oe),ne[ae][1]-Math.sin(oe),0))}for(var ce=1;ce<41;++ce)ne.push(n.newVec3(-ne[ce][0],ne[ce][1],0));var ie=Math.min.apply(Math,Object(E.a)(ne.map((function(t){return t[1]}))));ne.forEach((function(t,e){return ne[e][1]=ne[e][1]-ie+.5}));var ue,se,fe,be=Kt("Big arc",[],[].concat(Object(E.a)(Object(E.a)(Array(41)).map((function(t,e){return n.newVec3(Math.ceil(e/2)+4,.5,e%2-.5)}))),Object(E.a)(Object(E.a)(Array(40)).map((function(t,e){return n.newVec3(-Math.floor(e/2)-1-4,.5,e%2-.5)})))),ne),de=Kt("Big cube",[],Object(E.a)(Array(8)).map((function(t,e){return Object(E.a)(Array(8)).map((function(t,r){return n.newVec3(e-3.5,.5,r-3.5)}))})).flat(),Object(E.a)(Array(4)).map((function(t,e){return Object(E.a)(Array(4)).map((function(t,r){return Object(E.a)(Array(4)).map((function(t,a){return n.newVec3(e-1.5,a+.5,r-1.5)}))}))})).flat().flat()),le=Kt("Box",[],[[-1.5,.5,-1.5],[-.5,.5,-1.5],[.5,.5,-1.5],[1.5,.5,-1.5],[-1.5,.5,-.5],[-.5,.5,-.5],[.5,.5,-.5],[1.5,.5,-.5],[-1.5,.5,.5],[-.5,.5,.5],[.5,.5,.5],[1.5,.5,.5],[-1.5,.5,1.5],[-.5,.5,1.5],[.5,.5,1.5],[1.5,.5,1.5]],[[-.5,.5,-.5],[.5,.5,-.5],[.5,.5,.5],[-.5,.5,.5],[-.5,1.5,-.5],[.5,1.5,-.5],[.5,1.5,.5],[-.5,1.5,.5],[-.5,2.5,-.5],[.5,2.5,-.5],[.5,2.5,.5],[-.5,2.5,.5],[-.5,3.5,-.5],[.5,3.5,-.5],[.5,3.5,.5],[-.5,3.5,.5]]),je=function(t,e){return Object(E.a)(Array(e)).map((function(e,r){return n.add(t,[0,r,0])}))},ve=function(t,e){return Object(E.a)(Array(e)).map((function(e,r){return n.add(t,[0,0,r])}))},he=function(t,e,r){return[].concat(Object(E.a)(je(n.add(t,[-e,0,0]),r)),Object(E.a)(je(n.add(t,[e,0,0]),r)),Object(E.a)(function(t,e){return Object(E.a)(Array(e)).map((function(e,r){return n.add(t,[r,0,0])}))}(n.add(t,[1-e,r-1,0]),2*e-1)))},pe=Kt("Brachiation",[].concat(Object(E.a)(he([-10,.5,0],1,7)),Object(E.a)(he([10,.5,0],1,7)),Object(E.a)(he([0,7.5,0],11,5)),Object(E.a)((ue=[0,.5,0],se=2,fe=12,[].concat(Object(E.a)(je(n.add(ue,[0,0,-se]),fe)),Object(E.a)(je(n.add(ue,[0,0,se]),fe)),Object(E.a)(ve(n.add(ue,[0,fe-1,1-se]),se-1)),Object(E.a)(ve(n.add(ue,[0,fe-1,1]),se-1)))))),je([-10,7.5,0],3),je([10,7.5,0],3)),Oe=function(t,e){return Object(E.a)(Array(e[0])).map((function(r,a){return Object(E.a)(Array(e[1])).map((function(r,o){return Object(E.a)(Array(e[2])).map((function(r,c){return n.add(t,[a-(e[0]-1)/2,o,c-(e[2]-1)/2])}))}))})).flat().flat()},me=function t(e,r){var a=n.sub(r,e);if(n.length(a)<1)return[r];var o=[a[0],0,a[2]],c=n.normalize(n.add(n.normalize(o),[0,a[1]/n.length(o)*2,0]));return[r].concat(Object(E.a)(t(e,n.sub(r,c))))},ge=[].concat(Object(E.a)(Oe([-27,.5,0],[2,6,7])),Object(E.a)(Oe([-13,.5,0],[2,6,7])),Object(E.a)(Oe([-13,7.5,3],[2,12,1])),Object(E.a)(Oe([-13,7.5,-3],[2,12,1])),Object(E.a)(Oe([-13,19.5,0],[2,1,7])),Object(E.a)(Oe([27,.5,0],[2,6,7])),Object(E.a)(Oe([13,.5,0],[2,6,7])),Object(E.a)(Oe([13,7.5,3],[2,12,1])),Object(E.a)(Oe([13,7.5,-3],[2,12,1])),Object(E.a)(Oe([13,19.5,0],[2,1,7])),Object(E.a)(Oe([0,6.5,0],[56,1,7])),Object(E.a)(me([0,7.5,3],[11.5,19.5,3])),Object(E.a)(me([0,7.5,3],[-11.5,19.5,3])),Object(E.a)(me([-28,7.5,3],[-14.5,19.5,3])),Object(E.a)(me([28,7.5,3],[14.5,19.5,3])),Object(E.a)(me([0,7.5,-3],[11.5,19.5,-3])),Object(E.a)(me([0,7.5,-3],[-11.5,19.5,-3])),Object(E.a)(me([-28,7.5,-3],[-14.5,19.5,-3])),Object(E.a)(me([28,7.5,-3],[14.5,19.5,-3]))),ye=function t(e,r){if(0===e)return[n.clone(r)];var a=e-1,o=Math.pow(3,a),c=n.multiplyScalar([1,0,0],o),i=n.multiplyScalar([.5,0,Math.sqrt(3)/2],o),u=n.multiplyScalar([.5,Math.sqrt(2/3),1/(2*Math.sqrt(3))],o),s=n.multiplyScalar(n.add(c,i),2/3),f=n.sub(r,s);return[].concat(Object(E.a)(t(a,f)),Object(E.a)(t(a,n.add(f,c))),Object(E.a)(t(a,n.add(f,i))),Object(E.a)(t(a,n.add(f,u))),Object(E.a)(t(a,n.add(f,n.add(c,c)))),Object(E.a)(t(a,n.add(f,n.add(c,i)))),Object(E.a)(t(a,n.add(f,n.add(i,i)))),Object(E.a)(t(a,n.add(f,n.add(c,u)))),Object(E.a)(t(a,n.add(f,n.add(i,u)))),Object(E.a)(t(a,n.add(f,n.add(u,u)))))}(3,[0,.5,0]),xe=Kt("Bridge to pryramid",[],ge.sort((function(t,e){return t[0]-e[0]})),ye.sort((function(t,e){return t[0]-e[0]}))),we=Kt("Crane",[],[[1,.5,0],[0,.5,0],[-1,.5,0],[0,1.5,0],[0,2.5,0],[0,3.5,0],[1,3.5,0],[2,3.5,0],[3,3.5,0],[3,.5,0]],[[1,.5,0],[0,.5,0],[-1,.5,0],[0,1.5,0],[0,2.5,0],[0,3.5,0],[1,3.5,0],[2,3.5,0],[3,3.5,0],[3,2.5,0]]),Me=function(){return Object(E.a)(Array(13)).map((function(t,e){return Object(E.a)(Array(13)).map((function(t,r){return[e-6,.5,r-6]}))})).flat().filter((function(t){return Math.abs(t[0]+t[2])<2}))},Ae=Kt("Floor transport",[],[].concat(Object(E.a)(Me()),Object(E.a)(Object(E.a)(Array(3)).map((function(t,e){return[-6,e+1.5,6]}))),Object(E.a)(Object(E.a)(Array(3)).map((function(t,e){return[6,e+1.5,-6]}))),[[-6,4.5,6]]),[].concat(Object(E.a)(Me()),Object(E.a)(Object(E.a)(Array(3)).map((function(t,e){return[-6,e+1.5,6]}))),Object(E.a)(Object(E.a)(Array(3)).map((function(t,e){return[6,e+1.5,-6]}))),[[6,4.5,-6]])),Se=function(t){return Object(E.a)(Array(3)).map((function(t,e){return Object(E.a)(Array(3)).map((function(t,r){return Object(E.a)(Array(3)).map((function(t,n){return[e-1,r-1,n-1]}))}))})).flat().flat().filter((function(t){return(1===Math.abs(t[0])?1:0)+(1===Math.abs(t[1])?1:0)+(1===Math.abs(t[2])?1:0)>=2})).map((function(t){return n.newVec3(t[0],t[1]+.5+1,t[2])})).map((function(e){return n.add(e,t)}))},Ee=Kt("Frame transport",[],[].concat(Object(E.a)(Se([0,0,5])),Object(E.a)(Se([0,3,5])),Object(E.a)(Se([-5,0,5])),Object(E.a)(Se([5,0,-5])),Object(E.a)(Se([-5,3,5]))),[].concat(Object(E.a)(Se([0,0,5])),Object(E.a)(Se([0,3,5])),Object(E.a)(Se([-5,0,-5])),Object(E.a)(Se([5,0,5])),Object(E.a)(Se([5,3,5])))),ke=function(t,e){return Object(E.a)(Array(e[0])).map((function(r,a){return Object(E.a)(Array(e[1])).map((function(r,o){return Object(E.a)(Array(e[2])).map((function(r,c){return n.add(t,[a-(e[0]-1)/2,o,c-(e[2]-1)/2])}))}))})).flat().flat()},Ce=function t(e,r){var a=n.sub(r,e);if(n.length(a)<1)return[r];var o=[a[0],0,a[2]],c=n.normalize(n.add(n.normalize(o),[0,a[1]/n.length(o)*2,0]));return[r].concat(Object(E.a)(t(e,n.sub(r,c))))},Ve=ke([0,.5,0],[50,1,20]),ze=[].concat(Object(E.a)(ke([-27,.5,0],[2,6,7])),Object(E.a)(ke([-13,.5,0],[2,6,7])),Object(E.a)(ke([-13,7.5,3],[2,12,1])),Object(E.a)(ke([-13,7.5,-3],[2,12,1])),Object(E.a)(ke([-13,19.5,0],[2,1,7])),Object(E.a)(ke([27,.5,0],[2,6,7])),Object(E.a)(ke([13,.5,0],[2,6,7])),Object(E.a)(ke([13,7.5,3],[2,12,1])),Object(E.a)(ke([13,7.5,-3],[2,12,1])),Object(E.a)(ke([13,19.5,0],[2,1,7])),Object(E.a)(ke([0,6.5,0],[56,1,7])),Object(E.a)(Ce([0,7.5,3],[11.5,19.5,3])),Object(E.a)(Ce([0,7.5,3],[-11.5,19.5,3])),Object(E.a)(Ce([-28,7.5,3],[-14.5,19.5,3])),Object(E.a)(Ce([28,7.5,3],[14.5,19.5,3])),Object(E.a)(Ce([0,7.5,-3],[11.5,19.5,-3])),Object(E.a)(Ce([0,7.5,-3],[-11.5,19.5,-3])),Object(E.a)(Ce([-28,7.5,-3],[-14.5,19.5,-3])),Object(E.a)(Ce([28,7.5,-3],[14.5,19.5,-3]))),Ie=Kt("Plane to bridge",[],Ve.sort((function(t,e){return t[0]-e[0]})),ze.sort((function(t,e){return t[0]-e[0]}))),Pe=function(t,e){return Object(E.a)(Array(e)).map((function(e,r){return n.add(t,[0,r+.5,0])}))},De=Kt("Platform",Object(E.a)(function(t){return[].concat(Object(E.a)(function(t,e){return[].concat(Object(E.a)(Pe(n.add(t,[1,0,1]),e)),Object(E.a)(Pe(n.add(t,[1,0,-1]),e)),Object(E.a)(Pe(n.add(t,[-1,0,-1]),e)),Object(E.a)(Pe(n.add(t,[-1,0,1]),e)))}(t,4)),Object(E.a)(function(t){return[[0,.5,1],[0,.5,0],[0,.5,-1],[1,.5,1],[1,.5,0],[1,.5,-1],[-1,.5,1],[-1,.5,0],[-1,.5,-1]].map((function(e){return n.add(e,t)}))}(n.add(t,[0,4,0]))))}([0,0,0])),Pe([0,0,0],4),Pe([0,5,0],4)),Te=function(t,e){return Object(E.a)(Array(e)).map((function(e,r){return n.add(t,[0,r,0])}))},Fe=function(t){return[[1,.5,1],[1,.5,-1],[-1,.5,1],[-1,.5,-1]].map((function(e){return n.add(e,t)}))},We=function(t){return[].concat(Object(E.a)(Fe(t)),Object(E.a)(Fe(n.add(t,[0,1,0]))),Object(E.a)(function(t){return[[0,.5,1],[0,.5,0],[0,.5,-1],[1,.5,1],[1,.5,0],[1,.5,-1],[-1,.5,1],[-1,.5,0],[-1,.5,-1]].map((function(e){return n.add(e,t)}))}(n.add(t,[0,2,0]))))},qe=Kt("Platforms",[].concat(Object(E.a)(We([-6,0,0])),Object(E.a)(We([6,0,0]))),Te([-6,3.5,0],5),Te([6,3.5,0],5)),Be=function(t,e){return Object(E.a)(Array(e)).map((function(e,r){return n.add(t,[0,r,0])}))},Ne=function(t){return[[1,.5,1],[1,.5,-1],[-1,.5,1],[-1,.5,-1]].map((function(e){return n.add(e,t)}))},$e=function(t){return[].concat(Object(E.a)(Ne(t)),Object(E.a)(Ne(n.add(t,[0,1,0]))),Object(E.a)(Ne(n.add(t,[0,2,0]))),Object(E.a)(Ne(n.add(t,[0,3,0]))),Object(E.a)(Ne(n.add(t,[0,4,0]))),Object(E.a)(function(t){return[[0,.5,1],[0,.5,0],[0,.5,-1],[1,.5,1],[1,.5,0],[1,.5,-1],[-1,.5,1],[-1,.5,0],[-1,.5,-1]].map((function(e){return n.add(e,t)}))}(n.add(t,[0,5,0]))))},Re=Kt("Tall platforms",[].concat(Object(E.a)($e([-3,0,0])),Object(E.a)($e([3,0,0]))),Be([-3,6.5,0],5),Be([3,6.5,0],5)),Ge=function t(e,r){if(0===e)return[n.clone(r)];var a=e-1,o=Math.pow(3,a),c=n.multiplyScalar([1,0,0],o),i=n.multiplyScalar([.5,0,Math.sqrt(3)/2],o),u=n.multiplyScalar([.5,Math.sqrt(2/3),1/(2*Math.sqrt(3))],o),s=n.multiplyScalar(n.add(c,i),2/3),f=n.sub(r,s);return[].concat(Object(E.a)(t(a,f)),Object(E.a)(t(a,n.add(f,c))),Object(E.a)(t(a,n.add(f,i))),Object(E.a)(t(a,n.add(f,u))),Object(E.a)(t(a,n.add(f,n.add(c,c)))),Object(E.a)(t(a,n.add(f,n.add(c,i)))),Object(E.a)(t(a,n.add(f,n.add(i,i)))),Object(E.a)(t(a,n.add(f,n.add(c,u)))),Object(E.a)(t(a,n.add(f,n.add(i,u)))),Object(E.a)(t(a,n.add(f,n.add(u,u)))))}(3,[0,.5,0]),Je=function(t,e){return Object(E.a)(Array(e[0])).map((function(r,a){return Object(E.a)(Array(e[1])).map((function(r,o){return Object(E.a)(Array(e[2])).map((function(r,c){return n.add(t,[a-(e[0]-1)/2,o,c-(e[2]-1)/2])}))}))})).flat().flat()}([0,.5,0],[50,1,20]),Le=Kt("Pyramid to plane",[],Ge.sort((function(t,e){return t[0]-e[0]})),Je.sort((function(t,e){return t[0]-e[0]}))),Xe=Kt("Rolling box",[],[[0,0,0],[0,1,0],[0,2,0],[0,0,1],[0,1,1],[0,2,1],[-1,0,0],[-1,1,0],[-1,2,0],[-1,0,1],[-1,1,1],[-1,2,1]].map((function(t){return n.add(t,[0,.5,0])})),[[0,0,0],[1,0,0],[2,0,0],[0,0,1],[1,0,1],[2,0,1],[0,1,0],[1,1,0],[2,1,0],[0,1,1],[1,1,1],[2,1,1]].map((function(t){return n.add(t,[0,.5,0])}))),He=Kt("Stack",[],Object(E.a)(Object(E.a)(Array(5)).map((function(t,e){return[e,.5,0]}))),Object(E.a)(Object(E.a)(Array(5)).map((function(t,e){return[0,.5+e,0]})))),Ue=function(t){return Object(E.a)(Array(5)).map((function(e,r){return n.add(t,[0,r,0])}))},Ye=Kt("Short towers",[],[].concat(Object(E.a)(Ue([5,.5,0])),Object(E.a)(Ue([-5,.5,0])),[[5,5.5,0]]),[].concat(Object(E.a)(Ue([5,.5,0])),Object(E.a)(Ue([-5,.5,0])),[[-5,5.5,0]])),Ke=function(t){return Object(E.a)(Array(7)).map((function(e,r){return n.add(t,[0,r,0])}))},Qe=Kt("Tall towers",[],[].concat(Object(E.a)(Ke([5,.5,0])),Object(E.a)(Ke([-5,.5,0])),[[5,7.5,0]]),[].concat(Object(E.a)(Ke([5,.5,0])),Object(E.a)(Ke([-5,.5,0])),[[-5,7.5,0]])),Ze=Kt("Transformer",[],[[0,.5,1],[0,.5,-1],[0,1.5,1],[0,1.5,0],[0,1.5,-1],[1,1.5,1],[1,1.5,0],[1,1.5,-1],[2,1.5,1],[2,1.5,0],[2,1.5,-1],[3,1.5,1],[3,1.5,0],[3,1.5,-1],[3,.5,1],[3,.5,-1]],[[0,.5,1],[0,.5,-1],[0,1.5,.8],[0,3.5,0],[0,1.5,-.8],[0,2.5,.6],[0,4.5,0],[0,2.5,-.6],[0,5.5,1],[0,5.5,0],[0,5.5,-1],[0,4.7,1.6],[0,6.5,0],[0,4.7,-1.6],[0,3.7,2],[0,3.7,-2]]),_e=function(t){return[[0,0,0],[1,0,0],[-1,0,0],[0,0,1],[0,0,-1],[0,1,0],[0,2,0],[0,3,0]].map((function(e){return n.add(e,t)}))},tr=Kt("Transport",[],[].concat(Object(E.a)(_e([6,.5,-6])),Object(E.a)(_e([3,.5,-3])),Object(E.a)(_e([0,.5,0])),Object(E.a)(_e([-3,.5,3])),Object(E.a)(_e([-6,.5,6])),[[-6,4.5,6]]),[].concat(Object(E.a)(_e([6,.5,-6])),Object(E.a)(_e([3,.5,-3])),Object(E.a)(_e([0,.5,0])),Object(E.a)(_e([-3,.5,3])),Object(E.a)(_e([-6,.5,6])),[[6,4.5,-6]])),er=Kt("Vertical transport",[],[[-3,.5,0],[-3,1.5,0],[-3,2.5,0],[-2,2.5,0],[-1,2.5,0],[-3,3.5,0],[-3,4.5,0],[-3,5.5,0],[-3,6.5,0],[-2,6.5,0],[-1,6.5,0],[-3,7.5,0],[-3,8.5,0],[-3,9.5,0],[-3,10.5,0],[-2,10.5,0],[-1,10.5,0],[3,.5,0],[3,1.5,0],[3,2.5,0],[3,3.5,0],[3,4.5,0],[2,4.5,0],[1,4.5,0],[3,5.5,0],[3,6.5,0],[3,7.5,0],[3,8.5,0],[2,8.5,0],[1,8.5,0],[3,9.5,0],[3,10.5,0],[3,11.5,0],[3,12.5,0],[3,13.5,0],[2,13.5,0],[1,13.5,0],[0,13.5,0],[-1,13.5,0],[-2,13.5,0],[-3,13.5,0],[-3,12.5,0],[-3,11.5,0],[0,.5,0]],[[-3,.5,0],[-3,1.5,0],[-3,2.5,0],[-2,2.5,0],[-1,2.5,0],[-3,3.5,0],[-3,4.5,0],[-3,5.5,0],[-3,6.5,0],[-2,6.5,0],[-1,6.5,0],[-3,7.5,0],[-3,8.5,0],[-3,9.5,0],[-3,10.5,0],[-2,10.5,0],[-1,10.5,0],[3,.5,0],[3,1.5,0],[3,2.5,0],[3,3.5,0],[3,4.5,0],[2,4.5,0],[1,4.5,0],[3,5.5,0],[3,6.5,0],[3,7.5,0],[3,8.5,0],[2,8.5,0],[1,8.5,0],[3,9.5,0],[3,10.5,0],[3,11.5,0],[3,12.5,0],[3,13.5,0],[2,13.5,0],[1,13.5,0],[0,13.5,0],[-1,13.5,0],[-2,13.5,0],[-3,13.5,0],[-3,12.5,0],[-3,11.5,0],[0,12.5,0]]),rr=Kt("Wall",[[0,.5,1],[0,.5,0],[0,.5,-1],[0,1.5,1],[0,1.5,0],[0,1.5,-1],[0,2.5,1],[0,2.5,0],[0,2.5,-1]],[[2,.5,0]],[[-2,.5,0]]),nr=function(t,e){return Object(E.a)(Array(e[0])).map((function(r,a){return Object(E.a)(Array(e[1])).map((function(r,o){return Object(E.a)(Array(e[2])).map((function(r,c){return n.add(t,[a-(e[0]-1)/2,o,c-(e[2]-1)/2])}))}))})).flat().flat()},ar=function t(e,r){var a=n.sub(r,e);if(n.length(a)<1)return[r];var o=[a[0],0,a[2]],c=n.normalize(n.add(n.normalize(o),[0,a[1]/n.length(o)*2,0]));return[r].concat(Object(E.a)(t(e,n.sub(r,c))))},or=nr([0,.5,0],[100,1,100]),cr=function(){var t=11,e=18;return[].concat(Object(E.a)(nr([-97.5,.5,0],[5,t,e])),Object(E.a)(nr([-47.5,.5,0],[5,t,e])),Object(E.a)(nr([-47.5,12.5,7.5],[5,30,3])),Object(E.a)(nr([-47.5,12.5,-7.5],[5,30,3])),Object(E.a)(nr([-47.5,42.5,0],[5,1,e])),Object(E.a)(nr([97.5,.5,0],[5,t,e])),Object(E.a)(nr([47.5,.5,0],[5,t,e])),Object(E.a)(nr([47.5,12.5,7.5],[5,30,3])),Object(E.a)(nr([47.5,12.5,-7.5],[5,30,3])),Object(E.a)(nr([47.5,42.5,0],[5,1,e])),Object(E.a)(nr([0,11.5,0],[200,1,e])),Object(E.a)(ar([0,12.5,8.5],[44.5,42.5,8.5])),Object(E.a)(ar([0,12.5,8.5],[-44.5,42.5,8.5])),Object(E.a)(ar([-98.5,12.5,8.5],[-50.5,42.5,8.5])),Object(E.a)(ar([98.5,12.5,8.5],[50.5,42.5,8.5])),Object(E.a)(ar([0,12.5,-8.5],[44.5,42.5,-8.5])),Object(E.a)(ar([0,12.5,-8.5],[-44.5,42.5,-8.5])),Object(E.a)(ar([-98.5,12.5,-8.5],[-50.5,42.5,-8.5])),Object(E.a)(ar([98.5,12.5,-8.5],[50.5,42.5,-8.5])))}(),ir=[re,be,de,le,pe,xe,we,Ae,Ee,Ie,De,qe,Re,Le,Xe,He,Ye,Qe,Ze,tr,er,rr,Kt("Plane to bridge",[],or.sort((function(t,e){return t[0]-e[0]})),cr.sort((function(t,e){return t[0]-e[0]})))].sort((function(t,e){var r=t.start.bots.length-e.start.bots.length;return 0===r?t.title>e.title?1:-1:r})),ur=function(t){var e=Object(Vt.useState)(void 0),r=Object(s.a)(e,2),a=r[0],c=r[1],i=function(e,r){return Object(Tt.jsxs)(It.a,{variant:"contained",color:a===r?"primary":"default",onClick:function(){var a=new W.a(123),i=function(t){return[o.clone(t.start),o.clone(t.end)]}(e),u=Object(s.a)(i,2),f=u[0],b=u[1];console.log(f,b);var d=function(){return n.multiplyScalar(n.newVec3(a.next()-.5,a.next()-.5,a.next()-.5),.1)};f.bots.map((function(t){return t.pos=n.add(t.pos,d())})),b.bots.map((function(t){return t.pos=n.add(t.pos,d())})),t.onSelect(f,b),c(r)},children:[e.title," (",e.start.bots.length," bots)"]},r)},u=ir.filter((function(t){return!t.start.bots.some((function(t){return t.fixed}))})),f=ir.filter((function(t){return t.start.bots.some((function(t){return t.fixed}))}));return Object(Tt.jsxs)(Tt.Fragment,{children:[Object(Tt.jsx)("b",{children:"Select an example"}),Object(Tt.jsx)("br",{}),Object(Tt.jsx)("br",{}),"No obstacles",Object(Tt.jsx)("br",{}),Object(Tt.jsx)("br",{}),u.map(i),Object(Tt.jsx)("br",{}),Object(Tt.jsx)("br",{}),"Obstacles",Object(Tt.jsx)("br",{}),Object(Tt.jsx)("br",{}),f.map((function(t,e){return i(t,e+u.length)}))]})},sr=function(t){var e=Object(Vt.useState)(0),r=Object(s.a)(e,2),n=r[0],a=r[1],o=Object(Vt.useState)(!0),i=Object(s.a)(o,2),u=i[0],f=i[1],b=Object(Vt.useState)([]),d=Object(s.a)(b,2),l=d[0],j=d[1];return Object(Vt.useEffect)((function(){if(0!==l.length){var e=Math.round(.1*l.length),r=n%(2*(l.length+e));r<e?t.setWorld(l[0]):(r-=e)<l.length?t.setWorld(l[r]):(r-=l.length)<e?t.setWorld(l[l.length-1]):(r-=e,t.setWorld(l[l.length-1-r]))}}),[l,n]),Object(Vt.useEffect)((function(){if(!u){var t=setInterval((function(){return a((function(t){return t+1}))}),1e3/30);return function(){return clearInterval(t)}}}),[u]),Object(Vt.useEffect)((function(){f(!0),void 0!==t.worldStart&&t.setWorld(t.worldStart)}),[t.worldStart]),Object(Tt.jsxs)(At.a,{children:[Object(Tt.jsx)(St.a,{children:Object(Tt.jsx)(It.a,{variant:"contained",onClick:function(){if(void 0!==t.worldStart&&void 0!==t.worldEnd){var e=Date.now();j(c.createAnimation(t.worldStart,t.worldStart,t.worldEnd,t.worldEnd,t.config)),console.log((Date.now()-e)/1e3),f(!1)}},children:"Generate animation"})}),Object(Tt.jsxs)(St.a,{children:[Object(Tt.jsxs)(It.a,{variant:"contained",onClick:function(){return f(!u)},children:["paused: ",u?"yes":"no"]}),u&&Object(Tt.jsx)(It.a,{variant:"contained",onClick:function(){return a(n+1)},children:"Step"})]})]})},fr=Object(yt.a)((function(t){return{gridItem:{padding:t.spacing(2),textAlign:"center"}}})),br=function(){var t=fr(),e=Object(Vt.useState)(void 0),r=Object(s.a)(e,2),i=r[0],f=r[1],b=Object(Vt.useState)(void 0),d=Object(s.a)(b,2),l=d[0],j=d[1],v=Object(Vt.useState)(void 0),h=Object(s.a)(v,2),p=h[0],O=h[1],m=Object(Vt.useState)(void 0),g=Object(s.a)(m,2),y=g[0],x=g[1],w=Object(Vt.useState)(!1),M=Object(s.a)(w,2),A=M[0],S=M[1],E=Object(Vt.useState)({subdivideIterations:10,optimizeIterations:15,contractionType:c.ContractionType.Fibers,contractIterations:100,minimizeAccelerationIterations:100,offset:1.5,slack:2,friction:.1,overlapPenalty:1e3,gravity:1,botMass:1,dt:1}),k=Object(s.a)(E,2),C=k[0],V=k[1],z=void 0===i||void 0===l?[0,0,0]:function(t,e){var r=a.merge(o.boundingBox(t),o.boundingBox(e));return n.multiplyScalar(n.add(r.min,r.max),.5)}(i,l);return Object(Tt.jsx)(Tt.Fragment,{children:Object(Tt.jsxs)(xt.a,{container:!0,item:!0,xs:11,children:[Object(Tt.jsx)(xt.a,{item:!0,xs:4,style:{height:"97vh",overflowX:"hidden",overflowY:"scroll"},children:Object(Tt.jsxs)(xt.a,{container:!0,direction:"column",children:[Object(Tt.jsx)("b",{style:{fontSize:20},children:"Microbots"}),Object(Tt.jsx)(xt.a,{item:!0,className:t.gridItem,children:Object(Tt.jsx)(ur,{onSelect:function(t,e){f(t),j(e),O(t),x(t)}})}),Object(Tt.jsxs)(xt.a,{item:!0,className:t.gridItem,children:[Object(Tt.jsx)("b",{children:"Animation"}),Object(Tt.jsx)("br",{}),Object(Tt.jsx)(wt.a,{control:Object(Tt.jsx)(Mt.a,{checked:A,onChange:function(t){return S(t.target.checked)}}),label:"Dynamic"}),A?Object(Tt.jsx)(Wt,{worldStart:i,worldEnd:l,world:p,worldPrev:y,setWorld:O,setWorldPrev:x,config:C}):Object(Tt.jsx)(sr,{worldStart:i,worldEnd:l,setWorld:O,config:C})]}),Object(Tt.jsxs)(xt.a,{item:!0,className:t.gridItem,children:[Object(Tt.jsx)("b",{children:"Extra options"}),Object(Tt.jsx)(At.a,{children:Object.entries(C).map((function(t){var e=Object(s.a)(t,2),r=e[0],n=e[1];return Object(Tt.jsx)(St.a,{children:"contractionType"===r?Object(Tt.jsx)(Et.a,{value:n,onChange:function(t){V(Dt()(C,Object(u.a)({},r,{$set:t.target.value})))},children:Object.entries(c.ContractionType).filter((function(t){var e=Object(s.a)(t,1)[0];return isNaN(Number(e))})).map((function(t){var e=Object(s.a)(t,2),r=e[0],n=e[1];return Object(Tt.jsx)(kt.a,{value:n,children:r},r)}))}):Object(Tt.jsx)(Ct.a,{type:"number",label:r,value:n,onChange:function(t){return V(Dt()(C,Object(u.a)({},r,{$set:Math.max(parseFloat(t.target.value),0)})))}})},r)}))})]})]})}),Object(Tt.jsx)(xt.a,{item:!0,xs:5,children:Object(Tt.jsx)(Ht,{worldStart:i,world:p,center:z})})]})})},dr=r(15);r.n(dr).a.render(Object(Tt.jsx)(zt.a.StrictMode,{children:Object(Tt.jsx)(br,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.aff7776c.chunk.js.map