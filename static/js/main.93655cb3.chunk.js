(this.webpackJsonpmicrobots=this.webpackJsonpmicrobots||[]).push([[0],{79:function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"newVec3",(function(){return u})),r.d(n,"clone",(function(){return f})),r.d(n,"add",(function(){return l})),r.d(n,"addEq",(function(){return b})),r.d(n,"sub",(function(){return v})),r.d(n,"subEq",(function(){return d})),r.d(n,"multiplyScalar",(function(){return h})),r.d(n,"dot",(function(){return p})),r.d(n,"length",(function(){return j})),r.d(n,"dist",(function(){return O})),r.d(n,"normalize",(function(){return m})),r.d(n,"dir",(function(){return g}));var a={};r.r(a),r.d(a,"ContractionType",(function(){return o})),r.d(a,"createAnimation",(function(){return et}));var o,i=r(11),c=r(33),s=r(12),u=function(t,e,r){return[t,e,r]},f=function(t){return[t[0],t[1],t[2]]},l=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]},b=function(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]},v=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},d=function(t,e){t[0]-=e[0],t[1]-=e[1],t[2]-=e[2]},h=function(t,e){return[t[0]*e,t[1]*e,t[2]*e]},p=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},j=function(t){return Math.sqrt(p(t,t))},O=function(t,e){return j(v(t,e))},m=function(t){return h(t,1/j(t))},g=function(t,e){return m(v(t,e))},w=function(t,e){for(var r=0;r<3;++r)for(var n=0;n<3;++n)t[r][n]+=e[r][n]},y=function(t,e){for(var r=0;r<3;++r)for(var n=0;n<3;++n)t[r][n]*=e},x=function(t,e){for(var r=[0,0,0],n=0;n<3;++n)for(var a=0;a<3;++a)r[n]+=t[n][a]*e[a];return r},M=function(t,e){return r=u(t[0]*e[0],t[0]*e[1],t[0]*e[2]),n=u(t[1]*e[0],t[1]*e[1],t[1]*e[2]),a=u(t[2]*e[0],t[2]*e[1],t[2]*e[2]),[r,n,a];var r,n,a},A=function(t,e,r,n,a,o,i){return function(t,e,r,n,a){var o=1e-10,i=e.time-t.time,c=a-t.time,s=a-e.time,u=r.time-e.time,f=r.time-a,b=n.time-a,v=i*c+o,d=c*s+o,p=s*u+o,j=u*f+o,O=f*b+o,m=b*(n.time-r.time)+o,g=1/(j*p),w=g+1/Math.pow(d,2)+1/Math.pow(p,2),y=g+1/Math.pow(j,2)+1/Math.pow(O,2),x=-1/(v*d*(w+y)),M=(w+1/(v*d))/(w+y),A=(y+1/(O*m))/(w+y),E=-1/(O*m*(w+y)),S=h(t.pos,x),k=h(e.pos,M),V=h(r.pos,A),I=h(n.pos,E);return l(l(l(S,k),V),I)}({pos:n,time:e-2*r},{pos:a,time:e-r},{pos:o,time:e+r},{pos:i,time:e+2*r},e)},E=r(4),S=function(t,e){for(var r=0;r<t.length;++r)e[r]=t[r]},k=function(t,e){for(var r=0,n=0;n<t.length;++n)r+=t[n]*e[n];return r},V=function(t,e,r){for(var n=0;n<t.length;++n)t[n]+=e[n]*r},I=function(t,e,r){for(var n=0;n<r.length;++n)r[n]=0;for(var a=0;a<t.length;++a)for(var o=0;o<t[a].length;++o){var i=t[a][o][0],c=t[a][o][1];r[a]+=c*e[i],a!==i&&(r[i]+=c*e[a])}},C=function(t,e){for(var r=0;r<e.length;++r)e[r]*=t[Math.floor(r/3)]},T=function(t,e){var r=Array(e.length);S(e,r);var n=function(t,e){for(var r=Array(e.length/3).fill(0),n=0;n<t.length;++n)for(var a=0;a<t[n].length;++a){var o=Object(s.a)(t[n][a],2),i=o[0],c=o[1];Math.floor(n/3)===Math.floor(i/3)&&(r[Math.floor(n/3)]+=c,n!==i&&(r[Math.floor(i/3)]+=c))}for(var u=0;u<r.length;++u)r[u]=Math.sqrt(Math.sqrt(3/r[u]));return r}(t,r);!function(t,e){for(var r=0;r<e.length;++r)for(var n=0;n<e[r].length;++n){var a=e[r][n][0];e[r][n][1]*=t[Math.floor(r/3)],e[r][n][1]*=t[Math.floor(a/3)]}}(n,t),C(n,r);var a=function(t,e){var r=Array(e.length).fill(0),n=Array(e.length);S(e,n);var a=Array(e.length);I(t,r,a),V(n,a,-1);var o=Array(n.length),i=Array(o.length);S(n,o);for(var c=k(n,n),s=0;s<20;++s){I(t,o,a);var u=c/k(o,a);V(r,o,u),V(n,a,-u);var f=k(n,n);S(o,i),S(n,o),V(o,i,f/c),c=f}return r}(t,r);return C(n,a),a},P=r(30),z=r(2),D=r(9),W=function(t){return((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[2][2]+(t[2][1]*t[4][0]-t[4][1]*t[2][0])*-t[3][2]+(t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[4][2])*t[1][3]+((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[1][2]+(t[1][1]*t[4][0]-t[4][1]*t[1][0])*-t[3][2]+(t[1][1]*t[3][0]-t[3][1]*t[1][0])*t[4][2])*-t[2][3]+((t[2][1]*t[4][0]-t[4][1]*t[2][0])*t[1][2]+(t[1][1]*t[4][0]-t[4][1]*t[1][0])*-t[2][2]+(t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[4][2])*t[3][3]+((t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[1][2]+(t[1][1]*t[3][0]-t[3][1]*t[1][0])*-t[2][2]+(t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[3][2])*-t[4][3]+((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[1][2]+(t[1][1]*t[4][0]-t[4][1]*t[1][0])*-t[3][2]+(t[1][1]*t[3][0]-t[3][1]*t[1][0])*t[4][2])*t[0][3]+((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[3][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*t[4][2])*-t[1][3]+(((t[1][1]*t[4][0]-t[4][1]*t[1][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[4][2])*t[3][3]+((t[1][1]*t[3][0]-t[3][1]*t[1][0])*t[0][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[3][2])*-t[4][3]+((t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[1][2]+(t[1][1]*t[3][0]-t[3][1]*t[1][0])*-t[2][2]+(t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[3][2])*t[0][3]+((t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[0][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*-t[2][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*t[3][2])*-t[1][3]+((t[1][1]*t[3][0]-t[3][1]*t[1][0])*t[0][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[3][2])*t[2][3]+((t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[0][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[2][2])*-t[3][3])-(((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[2][2]+(t[2][1]*t[4][0]-t[4][1]*t[2][0])*-t[3][2]+(t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[4][2])*t[0][3]+((t[3][1]*t[4][0]-t[4][1]*t[3][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[3][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*t[4][2])*-t[2][3]+(((t[2][1]*t[4][0]-t[4][1]*t[2][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[2][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*t[4][2])*t[3][3]+((t[2][1]*t[3][0]-t[3][1]*t[2][0])*t[0][2]+(t[0][1]*t[3][0]-t[3][1]*t[0][0])*-t[2][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*t[3][2])*-t[4][3])+(((t[2][1]*t[4][0]-t[4][1]*t[2][0])*t[1][2]+(t[1][1]*t[4][0]-t[4][1]*t[1][0])*-t[2][2]+(t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[4][2])*t[0][3]+((t[2][1]*t[4][0]-t[4][1]*t[2][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[2][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*t[4][2])*-t[1][3]+(((t[1][1]*t[4][0]-t[4][1]*t[1][0])*t[0][2]+(t[0][1]*t[4][0]-t[4][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[4][2])*t[2][3]+((t[1][1]*t[2][0]-t[2][1]*t[1][0])*t[0][2]+(t[0][1]*t[2][0]-t[2][1]*t[0][0])*-t[1][2]+(t[0][1]*t[1][0]-t[1][1]*t[0][0])*t[2][2])*-t[4][3])))},F=function(){function t(e,r,n){Object(z.a)(this,t),this.vertices=void 0,this.adjacent=void 0,this.boundary=void 0,this.lastVisited=void 0,this.vertices=e,this.adjacent=r,this.boundary=n,this.lastVisited=-1}return Object(D.a)(t,[{key:"flip",value:function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e}}]),t}(),N=function t(e,r,n){Object(z.a)(this,t),this.vertices=void 0,this.cell=void 0,this.index=void 0,this.vertices=e,this.cell=r,this.index=n},q=function(){function t(e,r){var n=this;Object(z.a)(this,t),this.vertices=void 0,this.simplices=void 0,this.interior=void 0,this.tuple=void 0,this.orient=void 0,this.vertices=e,this.simplices=r,this.interior=r.filter((function(t){return!t.boundary})),this.tuple=Object(E.a)(this.vertices),this.orient=function(){return W(n.tuple)}}return Object(D.a)(t,[{key:"handleBoundaryDegeneracy",value:function(t,e){var r=this.vertices.length-1,n=this.tuple,a=this.vertices,o=[t];for(t.lastVisited=-r;o.length>0;){var i=o.pop();if(void 0===i)break;for(var c=i.adjacent,s=0;s<=4;++s){var u=c[s];if(u.boundary&&!(u.lastVisited<=-r)){for(var f=u.vertices,l=0;l<=4;++l){var b=f[l];n[l]=b<0?e:a[b]}var v=this.orient();if(v>0)return u;u.lastVisited=-r,0===v&&o.push(u)}}}return null}},{key:"walk",value:function(t){for(var e=this.vertices.length-1,r=this.vertices,n=this.tuple,a=this.interior.length-1,o=this.interior[a];!o.boundary;){for(var i=o.vertices,c=o.adjacent,s=0;s<=4;++s)n[s]=r[i[s]];o.lastVisited=e;for(var u=0;u<=4;++u){var f=c[u];if(!(f.lastVisited>=e)){var l=n[u];n[u]=t;var b=this.orient();if(n[u]=l,b<0){o=f;break}f.boundary?f.lastVisited=-e:f.lastVisited=e}}}return o}},{key:"addPeaks",value:function(t,e){var r=this.vertices.length-1,n=this.vertices,a=this.tuple,o=this.interior,i=this.simplices,c=[e];e.lastVisited=r,e.vertices[e.vertices.indexOf(-1)]=r,e.boundary=!1,o.push(e);for(var s=[];c.length>0;){var u=c.pop();if(void 0===u)break;var f=u.vertices,l=u.adjacent,b=f.indexOf(r);if(!(b<0))for(var v=0;v<=4;++v)if(v!==b){var d=l[v];if(d.boundary&&!(d.lastVisited>=r)){var h=d.vertices;if(d.lastVisited!==-r){for(var p=0,j=0;j<=4;++j)h[j]<0?(p=j,a[j]=t):a[j]=n[h[j]];if(this.orient()>0){h[p]=r,d.boundary=!1,o.push(d),c.push(d),d.lastVisited=r;continue}d.lastVisited=-r}var O=d.adjacent,m=f.slice(),g=l.slice(),w=new F(m,g,!0);i.push(w);var y=O.indexOf(u);if(!(y<0)){O[y]=w,g[b]=d,m[v]=-1,g[v]=u,l[v]=w,w.flip();for(var x=0;x<=4;++x){var M=m[x];if(!(M<0||M===r)){for(var A=new Array(3),E=0,S=0;S<=4;++S){var k=m[S];k<0||S===x||(A[E++]=k)}s.push(new N(A,w,x))}}}}}}s.sort((function(t,e){return function(t,e){var r=t[0]+t[1],n=e[0]+e[1],a=r+t[2]-(n+e[2]);if(a)return a;var o=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]);return(a=Math.min(o,t[2])-Math.min(i,e[2]))||Math.min(o+t[2],r)-Math.min(i+e[2],n)}(t.vertices,e.vertices)}));for(var V=0;V+1<s.length;V+=2){var I=s[V],C=s[V+1],T=I.index,P=C.index;T<0||P<0||(I.cell.adjacent[I.index]=C.cell,C.cell.adjacent[C.index]=I.cell)}}},{key:"insert",value:function(t){var e=this.vertices;e.push(t);var r=this.walk(t);if(r){for(var n=this.tuple,a=0;a<=4;++a){var o=r.vertices[a];n[a]=o<0?t:e[o]}var i=this.orient();if(!(i<0)){if(0===i){var c=this.handleBoundaryDegeneracy(r,t);if(!c)return;r=c}this.addPeaks(t,r)}}}},{key:"boundary",value:function(){for(var t=[],e=this.simplices,r=e.length,n=0;n<r;++n){var a=e[n];if(a.boundary){for(var o=new Array(4),i=a.vertices,c=0,s=0,u=0;u<=4;++u)i[u]>=0?o[c++]=i[u]:s=u&&1;if(1===s){var f=o[0];o[0]=o[1],o[1]=f}t.push(o)}}return t}}]),t}(),B=function t(e,r){Object(z.a)(this,t),this.point=void 0,this.index=void 0,this.point=e,this.index=r},R=function(t){var e=t.length;if(0===e)return[];for(var r=new Array(e),n=1,a=0;a<e;++a){for(var o=t[a],i=new Array(4),c=0,s=0;s<3;++s){var u=o[s];i[s]=u,c+=u*u}i[3]=c,r[a]=new B(i,a),n=Math.max(c,n)}r.sort((function(t,e){for(var r=0;r<5;++r){var n=e.point[r]-t.point[r];if(n)return n}return 0})),e=r.length;for(var f=new Array(e+3+1),l=new Array(e+3+1),b=16*n,v=new Array(4),d=0;d<=3;++d)v[d]=0;v[3]=b,f[0]=v.slice(),l[0]=-1;for(var h=0;h<=3;++h){var p=v.slice();p[h]=1,f[h+1]=p,l[h+1]=-1}for(var j=0;j<e;++j){var O=r[j];f[j+3+1]=O.point,l[j+3+1]=O.index}var m=function(t){var e=t.length;if(0===e)throw new Error("Must have at least d+1 points");var r=t[0].length;if(e<=r)throw new Error("Must input at least d+1 points");var n=t.slice(0,r+1),a=W(n);if(0===a)throw new Error("Input not in general position");for(var o=new Array(r+1),i=0;i<=r;++i)o[i]=i;a<0&&(o[0]=1,o[1]=0);for(var c=new F(o,new Array(r+1),!1),s=c.adjacent,u=new Array(r+2),f=0;f<=r;++f){for(var l=o.slice(),b=0;b<=r;++b)b===f&&(l[b]=-1);var v=l[0];l[0]=l[1],l[1]=v;var d=new F(l,new Array(r+1),!0);s[f]=d,u[f]=d}u[r+1]=c;for(var h=0;h<=r;++h)for(var p=s[h].vertices,j=s[h].adjacent,O=0;O<=r;++O){var m=p[O];if(m<0)j[O]=c;else for(var g=0;g<=r;++g)s[g].vertices.indexOf(m)<0&&(j[O]=s[g])}for(var w=new q(n,u),y=r+1;y<e;++y)w.insert(t[y]);return w.boundary()}(f);m=m.filter((function(t){for(var e=0;e<=3;++e){var r=l[t[e]];if(r<0)return!1;t[e]=r}return!0}));for(var g=0;g<m.length;++g){var w=m[g],y=w[0];w[0]=w[1],w[1]=y}return m},$=function(t,e,r){return r<t-e/2?1:r>t+e/2?0:2*(r+e-t)*Math.pow(t+e/2-r,2)/Math.pow(e,3)},G=function(t,e,r){var n=j(r),a=h(r,Math.sqrt($(t,e,n))/n);return M(a,a)},H=function(t,e,r){var n=M(r,r);return y(n,function(t,e,r){return $(t,e,r)+1e-4}(t,e,j(r))/p(r,r)),n},J=function(t,e,r,n){var a=1e-5,o=n[r],i=f(n);i[r]=o+a;var c=f(n);c[r]=o-a;var s=G(t,e,i);return function(t,e){for(var r=0;r<3;++r)for(var n=0;n<3;++n)t[r][n]-=e[r][n]}(s,G(t,e,c)),y(s,1/2e-5),s},L=function(t,e,r,n,a){for(var o=Object(E.a)(Array(3*n.bots.length)).map((function(){return[]})),i=0;i<n.bots.length;++i)for(var c=H(t,e,u(n.bots[i].pos[1]+.5,0,0)),s=H(t,e,u(0,n.bots[i].pos[1]+.5,0)),f=H(t,e,u(0,0,n.bots[i].pos[1]+.5)),l=0;l<3;++l)for(var b=l;b<3;++b)o[3*i+l].push([3*i+b,(c[l][b]+f[l][b])*r+s[l][b]]);for(var d=function(r){a[r].forEach((function(a){for(var i=function(t,e,r,n){var a=v(n.pos,r.pos);return G(t,e,a)}(t,e,n.bots[r],n.bots[a]),c=0;c<3;++c)for(var s=0;s<3;++s)o[3*r+c].push([3*a+s,-i[c][s]]),c>s||(o[3*r+c][s-c][1]+=i[c][s],o[3*a+c][s-c][1]+=i[c][s])}))},h=0;h<n.bots.length;++h)d(h);return o},X=function(t,e,r,n,a,o,i,c,s,u){var f=function(t,e,r,n,a,o){var i=Object(E.a)(Array(3*o.bots.length)).map((function(){return 0}));return o.bots.forEach((function(c,s){for(var u=0;u<3;++u){var f=(o.bots[s].pos[u]-t.bots[s].pos[u])/r,l=((e.bots[s].pos[u]-o.bots[s].pos[u])/r-f)/r;i[3*s+u]=((1===u?-1:0)-l)*n*a}})),i}(n,a,o,i,c,s),l=L(t,e,r,s,u);return T(l,f)},U=function(t,e,r,n,a,o,i,c,s,f,l,O,m,g,M){for(var S=Object(E.a)(Array(m.bots.length)).map((function(){return[0,1,2].map((function(){return 0}))})),k=function(n){for(var a=function(a){var i=J(t,e,a,u(m.bots[n].pos[1]+.5,0,0));y(i,r);var c=J(t,e,a,u(0,m.bots[n].pos[1]+.5,0)),s=J(t,e,a,u(0,0,m.bots[n].pos[1]+.5));y(s,r);var f=u(o[3*n],o[3*n+1],o[3*n+2]);w(i,c),w(i,s);var l=p(f,x(i,f));S[n][a]+=l,g[n].forEach((function(r){var i=function(t,e,r,n,a){return J(t,e,n,v(r.pos,a.pos))}(t,e,m.bots[n],a,m.bots[r]),c=u(o[3*r],o[3*r+1],o[3*r+2]);d(c,f);var s=x(i,c),l=p(c,s);S[n][a]+=l,S[r][a]-=l}))},i=0;i<3;++i)a(i)},V=0;V<m.bots.length;++V)k(V);for(var I=Object(E.a)(Array(m.bots.length)).map((function(){return u(0,0,0)})),C=0;C<m.bots.length;++C)for(var T=0;T<3;++T)I[C][T]=-S[C][T]+(-a[3*C+T]+2*o[3*C+T]-i[3*C+T])/Math.pow(O,2)*2;for(var P=0;P<m.bots.length;++P)if(!(m.bots[P].pos[1]>.5)){var z=m.bots[P].pos[1]+.5;I[P][1]+=2*n*(2*(z-2))}for(var D=function(t){g[t].forEach((function(e){var r=v(m.bots[e].pos,m.bots[t].pos),a=j(r);a>1||(r=h(r,n*(2*(a-2)/a)),d(I[t],r),b(I[e],r))}))},W=0;W<m.bots.length;++W)D(W);for(var F=0;F<m.bots.length;++F){var N=A(m.bots[F],M,O,c.bots[F].pos,s.bots[F].pos,f.bots[F].pos,l.bots[F].pos),q=v(N,m.bots[F].pos);b(I[F],h(q,-.1))}return I},Y=new P.a(123),K=function(t){return function(t){var e=R(t),r=t.map((function(){return{}}));return e.forEach((function(t){for(var e=0;e<4;++e)for(var n=e+1;n<4;++n)r[t[e]][t[n]]=!0,r[t[n]][t[e]]=!0})),r.map((function(t){return Object.keys(t).map((function(t){return Number(t)}))}))}(t.bots.map((function(t){return l(t.pos,h(u(Y.next()-.5,Y.next()-.5,Y.next()-.5),.1))})))},Q=function(t,e,r){var n={bots:[]};return n.bots=t.bots.map((function(t,n){return function(t,e,r){var n=l(h(t.pos,1-r),h(e.pos,r));return Object(c.a)(Object(c.a)({},t),{},{pos:n})}(t,e.bots[n],r)})),n},Z=function(t,e,r,n,a,o,i,c,s,f){for(var b=.2/o.length,v=o.map((function(t){return t.bots.map((function(){return u(0,0,0)}))})),d=o.map((function(t){return K(t)})),p=o.map((function(t,e){return t.bots.map((function(r,n){return function(t,e,r,n){return r[n].filter((function(t){return t>n})).filter((function(r){return O(e.bots[n].pos,e.bots[r].pos)<t}))}(a,t,d[e],n)}))})),m=function(a){var f=function(t,e,r,n,a,o,i,c,s,f){for(var l=Object(E.a)(Array(a.length)).map((function(){return Object(E.a)(Array(a[0].bots.length)).map((function(){return u(0,0,0)}))})),b=a.map((function(){return Object(E.a)(Array(3*a[0].bots.length)).map((function(){return 0}))})),v=0;v<a.length;++v){var d=a[Math.max(v-1,0)],h=a[Math.min(v+1,a.length-1)];b[v]=X(t,e,r,d,h,o,i,c,a[v],f[v])}for(var p=1;p<a.length;++p){var j=a[Math.max(p-2,0)],O=a[p-1],m=a[Math.min(p+1,a.length-1)],g=a[Math.min(p+2,a.length-1)];l[p]=U(t,e,r,n,b[p-1],b[p],b[Math.min(p+1,a.length-1)],j,O,m,g,o,a[p],f[p],p/(a.length-1))}return l}(t,e,r,n,o,i,c,s,0,p);f=f.map((function(t){return t.map((function(t){return h(t,-b/(1e-4+j(t)))}))})),o.forEach((function(t,e){e<=1||e>=o.length-2||t.bots.forEach((function(t,r){v[e][r]=l(v[e][r],f[e][r]),v[e][r]=h(v[e][r],.9),t.pos=l(t.pos,v[e][r])}))}))},g=0;g<f;++g)m()},_=function(t,e){return j(v(e.pos,t.pos))};!function(t){t[t.Mst=0]="Mst",t[t.Fibers=1]="Fibers",t[t.Delaunay=2]="Delaunay"}(o||(o={}));for(var tt=function(t,e,r){for(var n=function(e){t.bots.forEach((function(e,r){t.bots.some((function(t,n){if(r===n)return!1;var a=v(e.pos,t.pos),o=u(a[0],0,a[2]),i=p(o,o),c=a[1];return e.pos[1]+.5>t.pos[1]+.5&&10*c>i}))||(e.pos[1]+=.2*(.5-e.pos[1]))}));var n=K(t),a=[];n.forEach((function(e,i){e.forEach((function(e){i>=e||function(t,e,r,n,a){if(a===o.Delaunay)return!0;if(a===o.Mst){for(var i=O(t.bots[r].pos,t.bots[n].pos),c=Object(E.a)(Array(t.bots.length)).map((function(){return!1})),s=[],u=0;u<t.bots.length;++u)t.bots[u].pos[1]+.5<i&&s.push(u);for(;s.length>0;){var f=s.shift();if(void 0===f)break;if(!c[f]){c[f]=!0;for(var l=0;l<e[f].length;++l){var b=e[f][l];O(t.bots[f].pos,t.bots[b].pos)<i&&s.push(b)}}}return!(c[r]&&c[n])}for(var v=0;v<t.bots.length;++v)if(v!==r&&v!==n){if(_(t.bots[r],t.bots[n])>t.bots[r].pos[1]+.5&&_(t.bots[r],t.bots[n])>t.bots[n].pos[1]+.5)return!1;if(_(t.bots[r],t.bots[n])>_(t.bots[r],t.bots[v])&&_(t.bots[r],t.bots[n])>_(t.bots[v],t.bots[n]))return!1;if(_(t.bots[r],t.bots[n])>_(t.bots[n],t.bots[v])&&_(t.bots[r],t.bots[n])>_(t.bots[r],t.bots[v]))return!1}return!0}(t,n,i,e,r)&&a.push([i,e])}))})),a.forEach((function(e){var r=Object(s.a)(e,2),n=r[0],a=r[1],o=v(t.bots[a].pos,t.bots[n].pos),i=j(o);if(!(i<1)){var c=h(o,(1-i)/i/2*.2);d(t.bots[n].pos,c),b(t.bots[a].pos,c)}}))},a=0;a<e;++a)n()},et=function(t,e,r,n,a,o,i,c,s,u,f,p,O,m,g,w,y,x){for(var M=[s,u,f,p],S=function(s){var u=M.map((function(t,e){return!(e<=1||e>=M.length-1)&&function(t,e,r,n){for(var a=0,o=0;o<e.bots.length;++o){var i=h(v(e.bots[o].pos,t.bots[o].pos),1/n),c=h(v(r.bots[o].pos,e.bots[o].pos),1/n),s=h(v(c,i),1/n);a=Math.max(a,j(s))}return a}(M[e-1],t,M[e+1],c)>.2}));if(!u.some((function(t){return t})))return"break";var f=Object(E.a)(M);M=[M[0]],u.forEach((function(t,e){var r,n;0!==e&&(t&&M.push((r=M[M.length-1],n=f[e],Q(r,n,.5))),M.push(f[e]))})),console.log(s,M.length);for(var p=2;p<M.length-2;++p)tt(M[p],y,w);Z(t,e,r,n,a,M,c,o,i,m),function(t,e,r){for(var n=0;n<r;++n)for(var a=function(r){t[r].bots.forEach((function(n,a){var o=A(0,(r-1)/(t.length-3),e,t[r-2].bots[a].pos,t[r-1].bots[a].pos,t[r+1].bots[a].pos,t[r+2].bots[a].pos);n.pos=l(h(n.pos,.5),h(o,.5))}))},o=2;o<t.length-2;++o)a(o)}(M,c,x),M.map((function(t){return function(t,e){for(var r=K(t),n=0;n<e;++n)t.bots.forEach((function(t){t.pos[1]=Math.max(t.pos[1],.5)})),r.forEach((function(e,r){e.forEach((function(e){if(!(r>=e)){var n=v(t.bots[e].pos,t.bots[r].pos),a=j(n);if(!(a>1)){var o=h(n,(1-a)/a/2);d(t.bots[r].pos,o),b(t.bots[e].pos,o)}}}))}))}(t,g)}))},k=0;k<O;++k){if("break"===S(k))break}return console.log("done"),M.slice(1,M.length-1)},rt=r(116),nt=r(117),at=r(124),ot=r(123),it=r(111),ct=r(80),st=r(121),ut=r(120),ft=r(122),lt=r(115),bt=r(0),vt=r.n(bt),dt=r(34),ht=r.n(dt),pt=r(7),jt=new P.a(123),Ot=function(t){var e=Object(bt.useState)(!0),r=Object(s.a)(e,2),o=r[0],i=r[1],c=Object(bt.useState)([]),u=Object(s.a)(c,2),f=u[0],l=u[1],b=function(){if(void 0!==t.world&&void 0!==t.worldPrev&&void 0!==t.worldEnd)if(0===f.length||t.world.bots.map((function(t,e){return n.sub(t.pos,f[0].bots[e].pos)})).map((function(t){return n.dot(t,t)})).reduce((function(t,e){return t+e}),0)>1e-5)l(a.createAnimation(t.offset,t.slack,t.friction,t.overlapPenalty,t.neighborRadius,t.gravity,t.botMass,t.dt,t.worldPrev,t.world,t.worldEnd,t.worldEnd,t.subdivideIterations,t.optimizeIterations,t.resolveOverlapIterations,t.contractionType,t.contractIterations,t.minimizeAccelerationIterations));else{var e=f;e.length>1&&(e=e.slice(1)),t.setWorldPrev(t.world),t.setWorld(e[0]),l(e)}};return Object(bt.useEffect)((function(){if(!o){var t=setInterval(b,1e3/30);return function(){return clearInterval(t)}}}),[t,o,f]),Object(pt.jsxs)(it.a,{children:[Object(pt.jsx)(ct.a,{children:Object(pt.jsxs)(lt.a,{variant:"contained",onClick:function(){i(!o)},children:["paused: ",o?"yes":"no"]})}),Object(pt.jsx)(ct.a,{children:Object(pt.jsx)(lt.a,{variant:"contained",onClick:function(){void 0!==t.world&&t.setWorld(ht()(t.world,{bots:{$set:t.world.bots.map((function(t){return ht()(t,{pos:{$set:n.add(t.pos,n.multiplyScalar(n.newVec3(jt.next()-.5,jt.next()-.5,jt.next()-.5),2))}})}))}}))},children:"Disturb"})})]})},mt=r(6),gt=r.p+"static/media/grass.75422b3f.jpg",wt=r.p+"static/media/nx.484e0aff.png",yt=r.p+"static/media/ny.6a6662a7.png",xt=r.p+"static/media/nz.ed736547.png",Mt=r.p+"static/media/px.c6e24cee.png",At=r.p+"static/media/py.a67deb40.png",Et=r.p+"static/media/pz.39034444.png",St=function(){var t=new mt.q,e=new mt.n(2e3,2e3,8,8),r=(new mt.u).load(gt);r.wrapS=mt.p,r.wrapT=mt.p,r.repeat.set(100,100);var n=new mt.k({map:r}),a=new mt.i(e,n);a.rotateX(-Math.PI/2),a.castShadow=!1,a.receiveShadow=!0,t.add(a),t.add(new mt.a(16777215,.4));var o=new mt.f(16777215,.4);o.position.set(10,50,10),o.castShadow=!0,o.shadowCameraRight=50,o.shadowCameraLeft=-50,o.shadowCameraTop=50,o.shadowCameraBottom=-50,o.shadowMapWidth=1024,o.shadowMapHeight=1024,t.add(o);var i=[Mt,wt,At,yt,Et,xt].map((function(t){return(new mt.u).load(t)})).map((function(t){return new mt.j({map:t,fog:!1,side:mt.b})})),c=new mt.c(1e3,1e3,1e3),s=new mt.i(c,i);return t.add(s),t},kt=r(58),Vt=r(59),It=function(t){var e=Object(Vt.a)(),r=Object(s.a)(e,2),n=r[0],a=r[1],o=.55*n,i=.9*a,c=Object(bt.useRef)(null),u=Object(bt.useState)(),f=Object(s.a)(u,2),l=f[0],b=f[1],v=Object(bt.useState)(),d=Object(s.a)(v,2),h=d[0],p=d[1],j=Object(bt.useState)(),O=Object(s.a)(j,2),m=O[0],g=O[1];return Object(bt.useEffect)((function(){var t=c.current;if(t){var e=new mt.m(75,o/i,.1,1e3);e.position.set(10,10,10),e.lookAt(0,0,0),p(e);var r=new mt.x({antialias:!0});r.setClearColor("#87ceeb"),r.setSize(o,i),r.shadowMapEnabled=!0,r.shadowMapType=mt.l,t.appendChild(r.domElement),g(r);var n=new kt.a(e,r.domElement);return n.enableDamping=!0,n.dampingFactor=.5,b(n),function(){t.removeChild(r.domElement)}}}),[c,o,i]),Object(bt.useEffect)((function(){if(l&&m&&h&&t.scene){var e=window.setInterval((function(){l.update(),m.render(t.scene,h)}),1e3/30);return function(){window.clearInterval(e)}}}),[l,m,h,t.scene]),Object(pt.jsx)("div",{ref:c})},Ct=function(t){var e=Object(bt.useState)(St()),r=Object(s.a)(e,2),n=r[0],a=r[1],o=Object(bt.useState)([]),i=Object(s.a)(o,2),c=i[0],u=i[1];return Object(bt.useEffect)((function(){var e=t.world;void 0!==e&&c.length===e.bots.length&&e.bots.forEach((function(t,e){var r;(r=c[e].position).set.apply(r,Object(E.a)(t.pos))}))}),[t.world,c]),Object(bt.useEffect)((function(){var e=t.world;void 0!==e&&c.length!==e.bots.length&&u(e.bots.map((function(t){return function(t,e){var r,n=new mt.r(1,16,16);n.computeVertexNormals(),n.faces.forEach((function(t){return t.vertexColors=new Array(3).fill(!0).map((function(){return e}))}));var a=(new mt.d).fromGeometry(n);delete a.attributes.uv;var o=new mt.i(a,new mt.k({color:e}));return o.geometry=a,(r=o.position).set.apply(r,Object(E.a)(t)),o.scale.set(.5,.5,.5),o.castShadow=!0,o.receiveShadow=!0,o}(t.pos,new mt.e("#fa8072"))})))}),[t.world,c]),Object(bt.useEffect)((function(){var t=St();c.forEach((function(e){return t.add(e)})),a(t)}),[c]),Object(pt.jsx)(It,{scene:n})},Tt=function(t){return{bots:t.map((function(t){return{pos:t}}))}},Pt=[n.newVec3(0,0,0)],zt=0;zt<10;++zt){var Dt=Math.PI/2*(zt/10);Pt.push(n.newVec3(Pt[zt][0]+Math.cos(Dt),Pt[zt][1]-Math.sin(Dt),0))}for(var Wt=1;Wt<11;++Wt)Pt.push(n.newVec3(-Pt[Wt][0],Pt[Wt][1],0));var Ft=Math.min.apply(Math,Object(E.a)(Pt.map((function(t){return t[1]}))));Pt.forEach((function(t,e){return Pt[e][1]=Pt[e][1]-Ft+.5}));for(var Nt={title:"Arc",start:Tt([].concat(Object(E.a)(Object(E.a)(Array(11)).map((function(t,e){return n.newVec3(e,.5,0)}))),Object(E.a)(Object(E.a)(Array(10)).map((function(t,e){return n.newVec3(-e-1,.5,0)}))))),end:Tt(Pt)},qt=[n.newVec3(0,0,0)],Bt=0;Bt<20;++Bt){var Rt=Math.PI/2*(Bt/20);qt.push(n.newVec3(qt[Bt][0]+Math.cos(Rt),qt[Bt][1]-Math.sin(Rt),0))}for(var $t=1;$t<21;++$t)qt.push(n.newVec3(-qt[$t][0],qt[$t][1],0));var Gt=Math.min.apply(Math,Object(E.a)(qt.map((function(t){return t[1]}))));qt.forEach((function(t,e){return qt[e][1]=qt[e][1]-Gt+.5}));var Ht={title:"Big arc",start:Tt([].concat(Object(E.a)(Object(E.a)(Array(21)).map((function(t,e){return n.newVec3(e+15,.5,0)}))),Object(E.a)(Object(E.a)(Array(20)).map((function(t,e){return n.newVec3(-e-1-15,.5,0)}))))),end:Tt(qt)},Jt=Object(E.a)(Array(8)).map((function(t,e){return Object(E.a)(Array(8)).map((function(t,r){return n.newVec3(e-3.5,.5,r-3.5)}))})).flat(),Lt=Object(E.a)(Array(4)).map((function(t,e){return Object(E.a)(Array(4)).map((function(t,r){return Object(E.a)(Array(4)).map((function(t,a){return n.newVec3(e-1.5,a+.5,r-1.5)}))}))})).flat().flat(),Xt={title:"Big cube",start:Tt(Jt),end:Tt(Lt)},Ut={title:"Crane",start:Tt([[1,.5,0],[0,.5,0],[-1,.5,0],[0,1.5,0],[0,2.5,0],[0,3.5,0],[1,3.5,0],[2,3.5,0],[3,3.5,0],[3,.5,0]]),end:Tt([[1,.5,0],[0,.5,0],[-1,.5,0],[0,1.5,0],[0,2.5,0],[0,3.5,0],[1,3.5,0],[2,3.5,0],[3,3.5,0],[3,2.5,0]])},Yt={title:"Cube",start:Tt([[-1.5,.5,-1.5],[-.5,.5,-1.5],[.5,.5,-1.5],[1.5,.5,-1.5],[-1.5,.5,-.5],[-.5,.5,-.5],[.5,.5,-.5],[1.5,.5,-.5],[-1.5,.5,.5],[-.5,.5,.5],[.5,.5,.5],[1.5,.5,.5],[-1.5,.5,1.5],[-.5,.5,1.5],[.5,.5,1.5],[1.5,.5,1.5]]),end:Tt([[-.5,.5,-.5],[.5,.5,-.5],[.5,.5,.5],[-.5,.5,.5],[-.5,1.5,-.5],[.5,1.5,-.5],[.5,1.5,.5],[-.5,1.5,.5],[-.5,2.5,-.5],[.5,2.5,-.5],[.5,2.5,.5],[-.5,2.5,.5],[-.5,3.5,-.5],[.5,3.5,-.5],[.5,3.5,.5],[-.5,3.5,.5]])},Kt=function(){return Object(E.a)(Array(13)).map((function(t,e){return Object(E.a)(Array(13)).map((function(t,r){return[e-6,.5,r-6]}))})).flat().filter((function(t){return Math.abs(t[0]+t[2])<2}))},Qt=[].concat(Object(E.a)(Kt()),Object(E.a)(Object(E.a)(Array(3)).map((function(t,e){return[-6,e+1.5,6]}))),Object(E.a)(Object(E.a)(Array(3)).map((function(t,e){return[6,e+1.5,-6]}))),[[-6,4.5,6]]),Zt=[].concat(Object(E.a)(Kt()),Object(E.a)(Object(E.a)(Array(3)).map((function(t,e){return[-6,e+1.5,6]}))),Object(E.a)(Object(E.a)(Array(3)).map((function(t,e){return[6,e+1.5,-6]}))),[[6,4.5,-6]]),_t={title:"Floor transport",start:Tt(Qt),end:Tt(Zt)},te=function(t){return Object(E.a)(Array(3)).map((function(t,e){return Object(E.a)(Array(3)).map((function(t,r){return Object(E.a)(Array(3)).map((function(t,n){return[e-1,r-1,n-1]}))}))})).flat().flat().filter((function(t){return(1===Math.abs(t[0])?1:0)+(1===Math.abs(t[1])?1:0)+(1===Math.abs(t[2])?1:0)>=2})).map((function(t){return n.newVec3(t[0],t[1]+.5+1,t[2])})).map((function(e){return n.add(e,t)}))},ee=[].concat(Object(E.a)(te([0,0,5])),Object(E.a)(te([0,3,5])),Object(E.a)(te([-5,0,5])),Object(E.a)(te([5,0,-5])),Object(E.a)(te([-5,3,5]))),re=[].concat(Object(E.a)(te([0,0,5])),Object(E.a)(te([0,3,5])),Object(E.a)(te([-5,0,-5])),Object(E.a)(te([5,0,5])),Object(E.a)(te([5,3,5]))),ne={title:"Frame transport",start:Tt(ee),end:Tt(re)},ae=Object(E.a)(Object(E.a)(Array(5)).map((function(t,e){return[e,.5,0]}))),oe=Object(E.a)(Object(E.a)(Array(5)).map((function(t,e){return[0,.5+e,0]}))),ie={title:"Stack",start:Tt(ae),end:Tt(oe)},ce={title:"Towers",start:Tt([[2,.5,0],[2,1.5,0],[2,2.5,0],[2,3.5,0],[2,4.5,0],[-2,.5,0],[-2,1.5,0],[-2,2.5,0],[-2,3.5,0],[-2,4.5,0],[2,5.5,0]]),end:Tt([[2,.5,0],[2,1.5,0],[2,2.5,0],[2,3.5,0],[2,4.5,0],[-2,.5,0],[-2,1.5,0],[-2,2.5,0],[-2,3.5,0],[-2,4.5,0],[-2,5.5,0]])},se={title:"Transformer",start:Tt([[0,.5,1],[0,.5,-1],[0,1.5,1],[0,1.5,0],[0,1.5,-1],[1,1.5,1],[1,1.5,0],[1,1.5,-1],[2,1.5,1],[2,1.5,0],[2,1.5,-1],[3,1.5,1],[3,1.5,0],[3,1.5,-1],[3,.5,1],[3,.5,-1]]),end:Tt([[0,.5,1],[0,.5,-1],[0,1.5,.8],[0,3.5,0],[0,1.5,-.8],[0,2.5,.6],[0,4.5,0],[0,2.5,-.6],[0,5.5,1],[0,5.5,0],[0,5.5,-1],[0,4.7,1.6],[0,6.5,0],[0,4.7,-1.6],[0,3.7,2],[0,3.7,-2]])},ue=function(t){return[[0,0,0],[1,0,0],[-1,0,0],[0,0,1],[0,0,-1],[0,1,0],[0,2,0],[0,3,0]].map((function(e){return n.add(e,t)}))},fe=[].concat(Object(E.a)(ue([6,.5,-6])),Object(E.a)(ue([3,.5,-3])),Object(E.a)(ue([0,.5,0])),Object(E.a)(ue([-3,.5,3])),Object(E.a)(ue([-6,.5,6])),[[-6,4.5,6]]),le=[].concat(Object(E.a)(ue([6,.5,-6])),Object(E.a)(ue([3,.5,-3])),Object(E.a)(ue([0,.5,0])),Object(E.a)(ue([-3,.5,3])),Object(E.a)(ue([-6,.5,6])),[[6,4.5,-6]]),be=[Nt,Ht,Xt,Ut,Yt,_t,ne,ie,ce,se,{title:"Transport",start:Tt(fe),end:Tt(le)},{title:"Vertical transport",start:Tt([[-3,.5,0],[-3,1.5,0],[-3,2.5,0],[-2,2.5,0],[-1,2.5,0],[-3,3.5,0],[-3,4.5,0],[-3,5.5,0],[-3,6.5,0],[-2,6.5,0],[-1,6.5,0],[-3,7.5,0],[-3,8.5,0],[-3,9.5,0],[-3,10.5,0],[-2,10.5,0],[-1,10.5,0],[3,.5,0],[3,1.5,0],[3,2.5,0],[3,3.5,0],[3,4.5,0],[2,4.5,0],[1,4.5,0],[3,5.5,0],[3,6.5,0],[3,7.5,0],[3,8.5,0],[2,8.5,0],[1,8.5,0],[3,9.5,0],[3,10.5,0],[3,11.5,0],[3,12.5,0],[3,13.5,0],[2,13.5,0],[1,13.5,0],[0,13.5,0],[-1,13.5,0],[-2,13.5,0],[-3,13.5,0],[-3,12.5,0],[-3,11.5,0],[0,.5,0]]),end:Tt([[-3,.5,0],[-3,1.5,0],[-3,2.5,0],[-2,2.5,0],[-1,2.5,0],[-3,3.5,0],[-3,4.5,0],[-3,5.5,0],[-3,6.5,0],[-2,6.5,0],[-1,6.5,0],[-3,7.5,0],[-3,8.5,0],[-3,9.5,0],[-3,10.5,0],[-2,10.5,0],[-1,10.5,0],[3,.5,0],[3,1.5,0],[3,2.5,0],[3,3.5,0],[3,4.5,0],[2,4.5,0],[1,4.5,0],[3,5.5,0],[3,6.5,0],[3,7.5,0],[3,8.5,0],[2,8.5,0],[1,8.5,0],[3,9.5,0],[3,10.5,0],[3,11.5,0],[3,12.5,0],[3,13.5,0],[2,13.5,0],[1,13.5,0],[0,13.5,0],[-1,13.5,0],[-2,13.5,0],[-3,13.5,0],[-3,12.5,0],[-3,11.5,0],[0,12.5,0]])}].sort((function(t,e){var r=t.start.bots.length-e.start.bots.length;return 0===r?t.title>e.title?1:-1:r})),ve=function(t){var e=Object(bt.useState)(void 0),r=Object(s.a)(e,2),a=r[0],o=r[1];return Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)("b",{children:"Select an example"}),Object(pt.jsx)("br",{}),Object(pt.jsx)("br",{}),be.map((function(e,r){return Object(pt.jsxs)(lt.a,{variant:"contained",color:a===r?"primary":"default",onClick:function(){var e,a=new P.a(123),i=[be[e=r].start,be[e].end],c=Object(s.a)(i,2),u=c[0],f=c[1];console.log(u,f);var l=function(){return n.multiplyScalar(n.newVec3(a.next()-.5,a.next()-.5,a.next()-.5),.1)};u.bots.map((function(t){return t.pos=n.add(t.pos,l())})),f.bots.map((function(t){return t.pos=n.add(t.pos,l())})),t.onSelect(u,f),o(r)},children:[e.title," (",e.start.bots.length," bots)"]},r)}))]})},de=function(t){var e=Object(bt.useState)(0),r=Object(s.a)(e,2),n=r[0],o=r[1],i=Object(bt.useState)(!0),c=Object(s.a)(i,2),u=c[0],f=c[1],l=Object(bt.useState)([]),b=Object(s.a)(l,2),v=b[0],d=b[1];return Object(bt.useEffect)((function(){if(0!==v.length){var e=Math.round(.1*v.length),r=n%(2*(v.length+e));r<e?t.setWorld(v[0]):(r-=e)<v.length?t.setWorld(v[r]):(r-=v.length)<e?t.setWorld(v[v.length-1]):(r-=e,t.setWorld(v[v.length-1-r]))}}),[v,n]),Object(bt.useEffect)((function(){if(!u){var t=setInterval((function(){return o((function(t){return t+1}))}),1e3/30);return function(){return clearInterval(t)}}}),[u]),Object(pt.jsxs)(it.a,{children:[Object(pt.jsx)(ct.a,{children:Object(pt.jsx)(lt.a,{variant:"contained",onClick:function(){if(void 0!==t.worldStart&&void 0!==t.worldEnd){var e=Date.now();d(a.createAnimation(t.offset,t.slack,t.friction,t.overlapPenalty,t.neighborRadius,t.gravity,t.botMass,t.dt,t.worldStart,t.worldStart,t.worldEnd,t.worldEnd,t.subdivideIterations,t.optimizeIterations,t.resolveOverlapIterations,t.contractionType,t.contractIterations,t.minimizeAccelerationIterations)),console.log((Date.now()-e)/1e3),f(!1)}},children:"Generate animation"})}),Object(pt.jsxs)(ct.a,{children:[Object(pt.jsxs)(lt.a,{variant:"contained",onClick:function(){return f(!u)},children:["paused: ",u?"yes":"no"]}),u&&Object(pt.jsx)(lt.a,{variant:"contained",onClick:function(){return o(n+1)},children:"Step"})]})]})},he=Object(rt.a)((function(t){return{gridItem:{padding:t.spacing(2),textAlign:"center"}}})),pe=function(){var t=he(),e=Object(bt.useState)(void 0),r=Object(s.a)(e,2),n=r[0],o=r[1],u=Object(bt.useState)(void 0),f=Object(s.a)(u,2),l=f[0],b=f[1],v=Object(bt.useState)(void 0),d=Object(s.a)(v,2),h=d[0],p=d[1],j=Object(bt.useState)(void 0),O=Object(s.a)(j,2),m=O[0],g=O[1],w=Object(bt.useState)(!1),y=Object(s.a)(w,2),x=y[0],M=y[1],A=Object(bt.useState)({subdivideIterations:10,optimizeIterations:10,resolveOverlapIterations:10,contractionType:a.ContractionType.Fibers,contractIterations:10,minimizeAccelerationIterations:40,offset:1.5,slack:2,friction:.1,neighborRadius:2,overlapPenalty:1e3,gravity:1,botMass:1,dt:1}),E=Object(s.a)(A,2),S=E[0],k=E[1];return Object(pt.jsx)(pt.Fragment,{children:Object(pt.jsxs)(nt.a,{container:!0,item:!0,xs:11,children:[Object(pt.jsx)(nt.a,{item:!0,xs:4,style:{height:.9*window.innerHeight,overflowX:"hidden",overflowY:"scroll"},children:Object(pt.jsxs)(nt.a,{container:!0,direction:"column",children:[Object(pt.jsx)("b",{style:{fontSize:20},children:"Microbots"}),Object(pt.jsx)(nt.a,{item:!0,className:t.gridItem,children:Object(pt.jsx)(ve,{onSelect:function(t,e){o(t),b(e),p(t),g(t)}})}),Object(pt.jsxs)(nt.a,{item:!0,className:t.gridItem,children:[Object(pt.jsx)("b",{children:"Animation"}),Object(pt.jsx)("br",{}),Object(pt.jsx)(at.a,{control:Object(pt.jsx)(ot.a,{checked:x,onChange:function(t){return M(t.target.checked)}}),label:"Dynamic"}),x?Object(pt.jsx)(Ot,Object(c.a)({worldEnd:l,world:h,worldPrev:m,setWorld:p,setWorldPrev:g},S)):Object(pt.jsx)(de,Object(c.a)({worldStart:n,worldEnd:l,setWorld:p},S))]}),Object(pt.jsxs)(nt.a,{item:!0,className:t.gridItem,children:[Object(pt.jsx)("b",{children:"Extra options"}),Object(pt.jsx)(it.a,{children:Object.entries(S).map((function(t){var e=Object(s.a)(t,2),r=e[0],n=e[1];return Object(pt.jsx)(ct.a,{children:"contractionType"===r?Object(pt.jsx)(st.a,{value:n,onChange:function(t){k(ht()(S,Object(i.a)({},r,{$set:t.target.value})))},children:Object.entries(a.ContractionType).filter((function(t){var e=Object(s.a)(t,1)[0];return isNaN(Number(e))})).map((function(t){var e=Object(s.a)(t,2),r=e[0],n=e[1];return Object(pt.jsx)(ut.a,{value:n,children:r},r)}))}):Object(pt.jsx)(ft.a,{type:"number",label:r,value:n,onChange:function(t){return k(ht()(S,Object(i.a)({},r,{$set:Math.max(parseFloat(t.target.value),0)})))}})},r)}))}),Object(pt.jsx)(it.a,{children:Object(pt.jsx)(ct.a,{children:Object(pt.jsx)(lt.a,{variant:"contained",onClick:function(){return function(){var t=document.getElementsByTagName("canvas")[0].toDataURL("image/png"),e=document.createElement("a");e.href=t.replace(/^data:image\/(?:(?!;)[\s\S])/,"data:application/octet-stream"),e.download="image.png",e.click()}()},children:"Save screenshot"})})})]})]})}),Object(pt.jsx)(nt.a,{item:!0,xs:5,children:Object(pt.jsx)(Ct,{world:h})})]})})},je=r(15);r.n(je).a.render(Object(pt.jsx)(vt.a.StrictMode,{children:Object(pt.jsx)(pe,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.93655cb3.chunk.js.map